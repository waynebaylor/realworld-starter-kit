parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"n6rD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._=i,exports.c=K,exports.d=e,exports.e=r,exports.f=o,exports.h=s,exports.i=J,exports.g=exports.b=exports.a=exports.T=exports.R=exports.P=exports.H=exports.F=exports.D=exports.C=void 0;var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return exports.g=n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function i(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function u(t){return this instanceof u?(this.v=t,this):new u(t)}function a(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||l(t,e)})})}function l(t,e){try{(n=i[t](e)).value instanceof u?Promise.resolve(n.value.v).then(a,c):h(o[0][2],n)}catch(r){h(o[0][3],r)}var n}function a(t){l("next",t)}function c(t){l("throw",t)}function h(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}exports.g=n;const c=new WeakMap,h=new WeakMap;function p(t){const e=c.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function f(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function d(t,e){c.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=Object.keys(e);for(let r=0;r<n.length;++r){const t=n[r];t in this||Object.defineProperty(this,t,v(t))}}function v(t){return{get(){return p(this).event[t]},set(e){p(this).event[t]=e},configurable:!0,enumerable:!0}}function y(t){return{value(){const e=p(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function g(t,e){const n=Object.keys(e);if(0===n.length)return t;function r(e,n){t.call(this,e,n)}r.prototype=Object.create(t.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let i=0;i<n.length;++i){const o=n[i];if(!(o in t.prototype)){const t="function"==typeof Object.getOwnPropertyDescriptor(e,o).value;Object.defineProperty(r.prototype,o,t?y(o):v(o))}}return r}function b(t){if(null==t||t===Object.prototype)return d;let e=h.get(t);return null==e&&(e=g(b(Object.getPrototypeOf(t)),t),h.set(t,e)),e}function x(t,e){return new(b(Object.getPrototypeOf(e)))(t,e)}function m(t){return p(t).immediateStopped}function w(t,e){p(t).eventPhase=e}function S(t,e){p(t).currentTarget=e}function k(t,e){p(t).passiveListener=e}d.prototype={get type(){return p(this).event.type},get target(){return p(this).eventTarget},get currentTarget(){return p(this).currentTarget},composedPath(){const t=p(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return p(this).eventPhase},stopPropagation(){const t=p(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=p(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(p(this).event.bubbles)},get cancelable(){return Boolean(p(this).event.cancelable)},preventDefault(){f(p(this))},get defaultPrevented(){return p(this).canceled},get composed(){return Boolean(p(this).event.composed)},get timeStamp(){return p(this).timeStamp},get srcElement(){return p(this).eventTarget},get cancelBubble(){return p(this).stopped},set cancelBubble(t){if(!t)return;const e=p(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!p(this).canceled},set returnValue(t){t||f(p(this))},initEvent(){}},Object.defineProperty(d.prototype,"constructor",{value:d,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(d.prototype,window.Event.prototype),h.set(window.Event.prototype,d));const C=new WeakMap,P=1,E=2,O=3;function T(t){return null!==t&&"object"==typeof t}function j(t){const e=C.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function B(t){return{get(){let e=j(this).get(t);for(;null!=e;){if(e.listenerType===O)return e.listener;e=e.next}return null},set(e){"function"==typeof e||T(e)||(e=null);const n=j(this);let r=null,i=n.get(t);for(;null!=i;)i.listenerType===O?null!==r?r.next=i.next:null!==i.next?n.set(t,i.next):n.delete(t):r=i,i=i.next;if(null!==e){const i={listener:e,listenerType:O,passive:!1,once:!1,next:null};null===r?n.set(t,i):r.next=i}},configurable:!0,enumerable:!0}}function R(t,e){Object.defineProperty(t,`on${e}`,B(e))}function L(t){function e(){A.call(this)}e.prototype=Object.create(A.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let n=0;n<t.length;++n)R(e.prototype,t[n]);return e}function A(){if(!(this instanceof A)){if(1===arguments.length&&Array.isArray(arguments[0]))return L(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return L(t)}throw new TypeError("Cannot call a class as a function")}C.set(this,new Map)}function I(t){var e,n,r=!1;return"boolean"==typeof t?r=t:null!=t&&(r=!!t.capture,e=t.passive,n=t.once),{capture:r,passive:e,once:n}}function _(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener&&"function"==typeof t.dispatchEvent}A.prototype={addEventListener(t,e,n){if(null==e)return;if("function"!=typeof e&&!T(e))throw new TypeError("'listener' should be a function or an object.");const r=j(this),i=T(n),o=(i?Boolean(n.capture):Boolean(n))?1:2,s={listener:e,listenerType:o,passive:i&&Boolean(n.passive),once:i&&Boolean(n.once),next:null};let l=r.get(t);if(void 0===l)return void r.set(t,s);let u=null;for(;null!=l;){if(l.listener===e&&l.listenerType===o)return;u=l,l=l.next}u.next=s},removeEventListener(t,e,n){if(null==e)return;const r=j(this),i=(T(n)?Boolean(n.capture):Boolean(n))?1:2;let o=null,s=r.get(t);for(;null!=s;){if(s.listener===e&&s.listenerType===i)return void(null!==o?o.next=s.next:null!==s.next?r.set(t,s.next):r.delete(t));o=s,s=s.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');const e=j(this),n=t.type;let r=e.get(n);if(null==r)return!0;const i=x(this,t);let o=null;for(;null!=r;){if(r.once?null!==o?o.next=r.next:null!==r.next?e.set(n,r.next):e.delete(n):o=r,k(i,r.passive?r.listener:null),"function"==typeof r.listener)try{r.listener.call(this,i)}catch(s){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(s)}else r.listenerType!==O&&"function"==typeof r.listener.handleEvent&&r.listener.handleEvent(i);if(m(i))break;r=r.next}return k(i,null),w(i,0),S(i,null),!i.defaultPrevented}},Object.defineProperty(A.prototype,"constructor",{value:A,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(A.prototype,window.EventTarget.prototype);var N=function(t){function n(e){var n=t.call(this)||this;return n.parent=e,n.listeners=[],n.delegates=new Set,n}return e(n,t),n.prototype.setDelegates=function(t){var e,n,r,i,s,l,u,a,c=this,h=new Set(Array.from(t).filter(_)),p=new Set(Array.from(this.delegates).filter(function(t){return!h.has(t)})),f=new Set(Array.from(h).filter(function(t){return!c.delegates.has(t)}));try{for(var d=o(p),v=d.next();!v.done;v=d.next()){var y=v.value;try{for(var g=(r=void 0,o(this.listeners)),b=g.next();!b.done;b=g.next()){var x=b.value;y.removeEventListener(x.type,x.callback,x.options)}}catch(C){r={error:C}}finally{try{b&&!b.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}}}catch(P){e={error:P}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}try{for(var m=o(f),w=m.next();!w.done;w=m.next()){y=w.value;try{for(var S=(u=void 0,o(this.listeners)),k=S.next();!k.done;k=S.next()){x=k.value;y.addEventListener(x.type,x.callback,x.options)}}catch(E){u={error:E}}finally{try{k&&!k.done&&(a=S.return)&&a.call(S)}finally{if(u)throw u.error}}}}catch(O){s={error:O}}finally{try{w&&!w.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}this.delegates=h},n.prototype.addEventListener=function(e,n,r){var i,s;if(null!=n){if("object"==typeof n)throw new Error("Listener objects are not supported");r=I(r);var l={type:e,callback:n,options:r};if(r.once){var u=this;l.callback=function(t){var e=n.call(this,t);return u.removeEventListener(l.type,l.callback,l.options),e}}if("crank."!==l.type.slice(0,6))this.listeners.findIndex(function(t){return l.type===t.type&&l.callback===t.callback&&l.options.capture===t.options.capture})<=-1&&this.listeners.push(l);try{for(var a=o(this.delegates),c=a.next();!c.done;c=a.next()){c.value.addEventListener(e,n,r)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}return t.prototype.addEventListener.call(this,e,n,r)}},n.prototype.removeEventListener=function(e,n,r){var i,s;if(null!=n){var l="boolean"==typeof r?r:!(!r||!r.capture),u=this.listeners.findIndex(function(t){return t.type===e&&t.callback===n&&t.options.capture===l});void 0!==this.listeners[u]&&this.listeners.splice(u,1);try{for(var a=o(this.delegates),c=a.next();!c.done;c=a.next()){c.value.removeEventListener(e,n,r)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}return t.prototype.removeEventListener.call(this,e,n,r)}},n.prototype.clearEventListeners=function(){var t,e;try{for(var n=o(this.listeners.slice()),r=n.next();!r.done;r=n.next()){var i=r.value;this.removeEventListener(i.type,i.callback,i.options)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},n.prototype.dispatchEvent=function(e){var n=t.prototype.dispatchEvent.call(this,e);return n&&e.bubbles&&void 0!==this.parent&&(n=this.parent.dispatchEvent(e)),n},n}(A);function D(t){return null!=t&&"function"==typeof t.then}function q(t){return!D(t)||t instanceof Promise?t:Promise.resolve(t)}var M,V=function(){function t(t){this.executor=t}return t.prototype.then=function(e,n){var r=this;return new t(function(){try{var t=r.execute();return D(t)?t.then(e,n):null==e?t:e(t)}catch(i){if(null==n)throw i;return n(i)}})},t.prototype.catch=function(e){var n=this;return new t(function(){try{var t=n.execute();return D(t)?t.catch(e):t}catch(r){if(null==e)throw r;return e(r)}})},t.prototype.finally=function(e){var n=this;return new t(function(){try{var t=n.execute();return D(t)?t.finally(e):(null!=e&&e(),t)}catch(r){throw null!=e&&e(),r}})},t.prototype.execute=function(){return q(this.executor())},t.resolve=function(e){return new t(function(){return e})},t}();function U(t){return null!=t&&"function"==typeof t[Symbol.iterator]}function W(t){return"string"!=typeof t&&U(t)}function G(t){return null!=t&&"function"==typeof t.next}var H=Symbol.for("crank.ElementSigil"),F=Symbol.for("crank.Fragment");exports.F=F;var Y=Symbol.for("crank.Copy");exports.C=Y;var $=Symbol.for("crank.Portal");exports.P=$;var z=Symbol.for("crank.Raw");function J(t){return null!=t&&t[H]}function K(t,e){var n,r=(e=Object.assign({},e))["crank-key"];return null!=r&&delete e["crank-key"],arguments.length>3?e.children=Array.from(arguments).slice(2):arguments.length>2&&(e.children=arguments[2]),(n={})[H]=!0,n.tag=t,n.props=e,n.key=r,n}function Q(t){return null==t||"boolean"==typeof t?void 0:"string"==typeof t||J(t)?t:t.toString()}function X(t){var e,n,r,s,l,u;return i(this,function(i){switch(i.label){case 0:return null!=t?[3,1]:[2];case 1:return W(t)?[3,3]:[4,Q(t)];case 2:return i.sent(),[2];case 3:i.trys.push([3,10,11,12]),e=o(t),n=e.next(),i.label=4;case 4:return n.done?[3,9]:W(r=n.value)?[4,K(F,null,r)]:[3,6];case 5:return i.sent(),[3,8];case 6:return[4,Q(r)];case 7:i.sent(),i.label=8;case 8:return n=e.next(),[3,4];case 9:return[3,12];case 10:return s=i.sent(),l={error:s},[3,12];case 11:try{n&&!n.done&&(u=e.return)&&u.call(e)}finally{if(l)throw l.error}return[7];case 12:return[2]}})}exports.R=z;var Z=function(){return function(){this.internal=!1,this.tag=void 0,this.key=void 0,this.nextSibling=void 0,this.previousSibling=void 0,this.clock=0,this.replacedBy=void 0,this.value=void 0}}(),tt=function(){function t(){this.internal=!0,this.key=void 0,this.nextSibling=void 0,this.previousSibling=void 0,this.clock=0,this.replacedBy=void 0,this.firstChild=void 0,this.lastChild=void 0,this.keyedChildren=void 0,this.onNextResult=void 0,this.props=void 0,this.value=void 0,this.ctx=void 0,this.updating=!1,this.iterating=!1,this.finished=!1,this.unmounted=!1}return t.prototype.appendChild=function(t){void 0===this.lastChild?(this.firstChild=t,this.lastChild=t,t.previousSibling=void 0,t.nextSibling=void 0):(t.previousSibling=this.lastChild,t.nextSibling=void 0,this.lastChild.nextSibling=t,this.lastChild=t)},t.prototype.insertBefore=function(t,e){null!=e?t!==e&&(t.nextSibling=e,void 0===e.previousSibling?(t.previousSibling=void 0,this.firstChild=t):(t.previousSibling=e.previousSibling,e.previousSibling.nextSibling=t),e.previousSibling=t):this.appendChild(t)},t.prototype.removeChild=function(t){void 0===t.previousSibling?this.firstChild=t.nextSibling:t.previousSibling.nextSibling=t.nextSibling,void 0===t.nextSibling?this.lastChild=t.previousSibling:t.nextSibling.previousSibling=t.previousSibling,t.previousSibling=void 0,t.nextSibling=void 0},t.prototype.replaceChild=function(t,e){this.insertBefore(t,e),this.removeChild(e)},t.prototype.getChildValues=function(){for(var t,e=[],n=this.firstChild;null!=n;n=n.nextSibling)"string"==typeof n.value?t=(t||"")+n.value:n.tag!==$&&(void 0!==t&&(e.push(t),t=void 0),Array.isArray(n.value)?e.push.apply(e,l(n.value)):void 0!==n.value&&e.push(n.value));return void 0!==t&&e.push(t),e},t.prototype.updateChildren=function(t){var e,n,r,i,s,l,u=this,a=this.firstChild,c=a&&a.nextSibling,h=function(t){var e=void 0,n=void 0;if(J(t)&&(e=t.tag,n=t.key,void 0!==s&&s.has(n)&&(n=void 0)),null!=n){var r=p.keyedChildren&&p.keyedChildren.get(n);void 0===r?e!==Y&&(r=ut(p,p.renderer,t)):(p.keyedChildren.delete(n),a!==r&&p.removeChild(r)),void 0!==r&&(void 0===a?p.appendChild(r):a!==r&&(null==a.key?p.insertBefore(r,a):p.insertBefore(r,a.nextSibling)),c=(a=r).nextSibling)}else if(void 0===a)e!==Y&&(a=ut(p,p.renderer,t),p.appendChild(a));else if(null!=a.key){for(;a&&null!=a.key;)c=(a=c)&&a.nextSibling;void 0===a&&e!==Y&&(a=ut(p,p.renderer,t),p.appendChild(a))}if(void 0!==a){if(e!==Y)if(a.tag!==e||a.internal&&a.unmounted){a.internal&&a.unmount();var i=ut(p,p.renderer,t);i.clock=a.clock++;h=void 0;if(i.internal?h=i.update(t.props):i.value="string"==typeof t?p.renderer.text(t):void 0,void 0===h)p.replaceChild(i,a),a.replacedBy=i;else{void 0===l&&(l=[]),l.push(h);var o=a;h.then(function(){void 0===o.replacedBy?(u.replaceChild(i,o),o.replacedBy=i):void 0===o.replacedBy.replacedBy&&o.replacedBy.clock<i.clock&&(u.replaceChild(i,o.replacedBy),o.replacedBy=i)})}}else{var h;if(a.internal)void 0!==(h=a.update(t.props))&&(void 0===l&&(l=[]),l.push(h));else a.value="string"==typeof t?p.renderer.text(t):void 0}void 0!==n&&(void 0===s&&(s=new Map),s.set(n,a))}c=(a=c)&&a.nextSibling},p=this;try{for(var f=o(X(t)),d=f.next();!d.done;d=f.next()){h(g=d.value)}}catch(m){e={error:m}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}for(;void 0!==a;c=(a=c)&&a.nextSibling)void 0!==a.key&&void 0!==this.keyedChildren&&this.keyedChildren.delete(a.key),a.internal&&a.unmount(),this.removeChild(a);if(void 0!==this.keyedChildren)try{for(var v=o(this.keyedChildren.values()),y=v.next();!y.done;y=v.next()){var g;(g=y.value).internal&&g.unmount(),this.removeChild(g)}}catch(w){r={error:w}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}if(this.keyedChildren=s,void 0!==l){var b=Promise.all(l).then(function(){u.commit()});void 0!==this.onNextResult&&(this.onNextResult(b.catch(function(){})),this.onNextResult=void 0);var x=new Promise(function(t){return u.onNextResult=t});return Promise.race([b,x])}this.commit(),void 0!==this.onNextResult&&(this.onNextResult(),this.onNextResult=void 0)},t.prototype.unmountChildren=function(){for(var t=this.firstChild;void 0!==t;t=t.nextSibling)t.internal&&t.unmount()},t.prototype.update=function(t){return this.props=t,this.updating=!0,this.refresh()},t.prototype.refresh=function(){if(!this.unmounted)return this.updateChildren(this.props&&this.props.children)},t.prototype.catch=function(t){if(void 0===this.parent)throw t;return this.parent.catch(t)},t}(),et=function(t){function n(e,n,r){var i=t.call(this)||this;return i.tag=F,i.key=r,i.parent=e,i.renderer=n,i.ctx=e.ctx,i}return e(n,t),n.prototype.commit=function(){var t=this.getChildValues();this.value=t.length>1?t:t[0],this.updating||this.parent.commit(),this.updating=!1},n.prototype.unmount=function(){this.unmounted||(this.unmounted=!0,this.unmountChildren())},n}(tt),nt=function(t){function r(e,n,r,i){var o=t.call(this)||this;return o.childValues=[],o.iterator=void 0,o.tag=r,o.key=i,o.parent=e,o.renderer=n,o.intrinsic=n.intrinsic(r),o.ctx=e&&e.ctx,o.hostCtx=new ct(o),o}return e(r,t),r.prototype.commit=function(){this.childValues=this.getChildValues();try{if(void 0===this.iterator){var t=this.intrinsic.call(this.hostCtx,n(n({},this.props),{children:this.childValues}));G(t)?this.iterator=t:this.value=t}if(void 0!==this.iterator){var e=this.iterator.next();this.value=e.value,this.iterating=!1,e.done&&(this.finished=!0)}}catch(r){if(void 0!==this.parent)return this.parent.catch(r);throw r}finally{this.updating=!1}},r.prototype.unmount=function(){if(!this.unmounted){if(this.finished&&void 0!==this.iterator&&this.iterator.return)try{this.iterator.return()}catch(t){if(void 0!==this.parent)return this.parent.catch(t);throw t}this.unmounted=!0,this.unmountChildren()}},r.prototype[Symbol.iterator]=function(){return i(this,function(t){switch(t.label){case 0:if(this.unmounted)return[3,2];if(this.iterating)throw new Error("You must yield for each iteration of this.");return this.iterating=!0,[4,n(n({},this.props),{children:this.childValues})];case 1:return t.sent(),[3,0];case 2:return[2]}})},r}(tt),rt=0,it=1,ot=2,st=3,lt=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.stepping=!1,o.available=!1,o.iterator=void 0,o.componentType=void 0,o.inflightPending=void 0,o.enqueuedPending=void 0,o.inflightResult=void 0,o.enqueuedResult=void 0,o.previousResult=void 0,o.provisions=void 0,o.publish=void 0,o.parent=e,o.renderer=n,o.tag=r,o.key=i,o.ctx=new pt(o,e.ctx),o}return e(n,t),n.prototype.updateChildren=function(e){return W(e)&&(e=K(F,null,e)),t.prototype.updateChildren.call(this,e)},n.prototype.run=function(){var t,e=this;if(void 0===this.inflightPending){var n=s(this.step(),2),r=n[0],i=n[1];return D(r)&&(this.inflightPending=r.finally(function(){return e.advance()})),this.inflightResult=i,this.inflightResult}return this.componentType===st?this.inflightResult:(void 0===this.enqueuedPending&&(this.enqueuedPending=this.inflightPending.then(function(){var n=s(e.step(),2),r=n[0],i=n[1];return t(i),r}).finally(function(){return e.advance()}),this.enqueuedResult=new Promise(function(e){return t=e})),this.enqueuedResult)},n.prototype.step=function(){var t=this;this.stepping=!0;try{if(this.finished)return[void 0,void 0];if(void 0===this.iterator){this.ctx.clearEventListeners();var e=new V(function(){return t.tag.call(t.ctx,t.props)}).catch(function(e){return t.parent.catch(e)}).execute();if(!G(e))return D(e)?(this.componentType=it,[e.then(function(){},function(){}),n=e.then(function(e){return t.updateChildren(e)})]):(this.componentType=rt,[void 0,n=this.updateChildren(e)]);this.iterator=e}var n,r=V.resolve(this.previousResult).then(function(){return t.value}).execute(),i=new V(function(){return t.iterator.next(r)}).catch(function(e){return V.resolve(t.parent.catch(e)).then(function(){return{value:void 0,done:!0}}).execute()}).execute();return D(i)?(this.componentType=st,[i.then(function(e){t.iterating=!1,e.done&&(t.finished=!0)},function(){}),n=i.then(function(e){var n=t.updateChildren(e.value);return D(n)&&(t.previousResult=n.catch(function(){})),n})]):(this.iterating=!1,this.componentType=ot,i.done&&(this.finished=!0),[n=this.updateChildren(i.value),n])}finally{this.stepping=!1}},n.prototype.advance=function(){var t=this;this.inflightPending=this.enqueuedPending,this.inflightResult=this.enqueuedResult,this.enqueuedPending=void 0,this.enqueuedResult=void 0,this.componentType!==st||this.finished||this.unmounted||Promise.resolve(this.run()).catch(function(e){if(!t.updating)throw e})},n.prototype.refresh=function(){if(!this.stepping&&!this.unmounted)return void 0===this.publish?this.available=!0:(this.publish(this.props),this.publish=void 0),this.run()},n.prototype.commit=function(){var t=this.getChildValues();this.ctx.setDelegates(t),this.value=t.length>1?t:t[0],this.updating||this.parent.commit(),this.updating=!1},n.prototype.unmount=function(){var t=this;if(!this.unmounted){if(this.updating=!1,this.unmounted=!0,this.ctx.clearEventListeners(),!this.finished&&(this.finished=!0,void 0!==this.publish&&(this.publish(this.props),this.publish=void 0),void 0!==this.iterator&&this.iterator.return))return new V(function(){return t.iterator.return()}).then(function(){t.unmountChildren()},function(e){return t.parent.catch(e)}).execute();this.unmountChildren()}},n.prototype.catch=function(e){var n=this;return void 0===this.iterator||void 0===this.iterator.throw||this.finished?t.prototype.catch.call(this,e):(void 0!==this.publish&&(this.publish(this.props),this.publish=void 0),new V(function(){return n.iterator.throw(e)}).then(function(t){return t.done&&(n.finished=!0),n.updateChildren(t.value)}).catch(function(t){return n.parent.catch(t)}).execute())},n.prototype.get=function(t){for(var e=this.parent;void 0!==e;e=e.parent)if(e instanceof n&&void 0!==e.provisions&&e.provisions.has(t))return e.provisions.get(t)},n.prototype.set=function(t,e){void 0===this.provisions&&(this.provisions=new Map),this.provisions.set(t,e)},n.prototype[Symbol.iterator]=function(){return i(this,function(t){switch(t.label){case 0:if(this.unmounted)return[3,2];if(this.iterating)throw new Error("You must yield for each iteration of this.");if(this.componentType===st)throw new Error("Use for await...of in async generator components.");return this.iterating=!0,[4,this.props];case 1:return t.sent(),[3,0];case 2:return[2]}})},n.prototype[Symbol.asyncIterator]=function(){return a(this,arguments,function(){var t,e=this;return i(this,function(n){switch(n.label){case 0:if(this.iterating)throw new Error("You must yield for each iteration of this.");if(this.componentType===ot)throw new Error("Use for...of in sync generator components.");return this.iterating=!0,this.available?(this.available=!1,[4,u(this.props)]):[3,3];case 1:return[4,n.sent()];case 2:return n.sent(),[3,7];case 3:return[4,u(new Promise(function(t){return e.publish=t}))];case 4:return t=n.sent(),this.unmounted?[3,7]:[4,u(t)];case 5:return[4,n.sent()];case 6:n.sent(),n.label=7;case 7:if(!this.unmounted)return[3,0];n.label=8;case 8:return[2]}})})},n}(tt);function ut(t,e,n){return void 0===n||"string"==typeof n?new Z:n.tag===F?new et(t,e,n.key):"function"==typeof n.tag?new lt(t,e,n.tag,n.key):new nt(t,e,n.tag,n.key)}var at=new WeakMap,ct=function(){function t(t){at.set(this,t)}return t.prototype[Symbol.iterator]=function(){return at.get(this)[Symbol.iterator]()},t}();exports.H=ct;var ht=new WeakMap,pt=function(t){function n(e,n){var r=t.call(this,n)||this;return ht.set(r,e),r}return e(n,t),n.prototype.get=function(t){return ht.get(this).get(t)},n.prototype.set=function(t,e){ht.get(this).set(t,e)},n.prototype[Symbol.iterator]=function(){return ht.get(this)[Symbol.iterator]()},n.prototype[Symbol.asyncIterator]=function(){return ht.get(this)[Symbol.asyncIterator]()},n.prototype.refresh=function(){return ht.get(this).refresh()},n}(N);exports.a=pt;var ft=Symbol.for("crank.Default");exports.D=ft;var dt=Symbol.for("crank.Text");exports.T=dt;var vt=((M={})[ft]=function(t){throw new Error("Environment did not provide an intrinsic for tag: "+t)},M[$]=function(){throw new Error("Environment did not provide an intrinsic for Portal")},M[z]=function(t){return t.value},M),yt=function(){function t(t){this.cache=new WeakMap,this.env=n({},vt),t&&this.extend(t)}return t.prototype.extend=function(t){var e,n,r,i;try{for(var s=o(Object.getOwnPropertySymbols(t)),l=s.next();!l.done;l=s.next()){var u=l.value;null!=t[u]&&(this.env[u]=t[u])}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var a=o(Object.keys(t)),c=a.next();!c.done;c=a.next()){var h=c.value;null!=t[h]&&(this.env[h]=t[h])}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.render=function(t,e){var n;n=J(t)&&t.tag===$?t:K($,{root:e},t);var r=null!=e?this.cache.get(e):void 0;return void 0===r&&(r=new nt(void 0,this,n.tag),void 0!==e&&this.cache.set(e,r)),V.resolve(r.update(n.props)).then(function(){return void 0===e&&r.unmount(),r.value}).execute()},t.prototype.intrinsic=function(t){if(this.env[t])return this.env[t];if("string"==typeof t)return this.env[ft](t);throw new Error("Unknown tag: "+t.toString())},t.prototype.text=function(t){return void 0!==this.env[dt]?this.env[dt](t):t},t}();exports.b=yt;
},{}],"k82I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Context",{enumerable:!0,get:function(){return e.a}}),Object.defineProperty(exports,"Copy",{enumerable:!0,get:function(){return e.C}}),Object.defineProperty(exports,"Default",{enumerable:!0,get:function(){return e.D}}),Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return e.F}}),Object.defineProperty(exports,"HostContext",{enumerable:!0,get:function(){return e.H}}),Object.defineProperty(exports,"Portal",{enumerable:!0,get:function(){return e.P}}),Object.defineProperty(exports,"Raw",{enumerable:!0,get:function(){return e.R}}),Object.defineProperty(exports,"Renderer",{enumerable:!0,get:function(){return e.b}}),Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return e.T}}),Object.defineProperty(exports,"createElement",{enumerable:!0,get:function(){return e.c}}),Object.defineProperty(exports,"isElement",{enumerable:!0,get:function(){return e.i}});var e=require("./index-ff226fef.js");
},{"./index-ff226fef.js":"n6rD"}],"I4sy":[function(require,module,exports) {

},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"bUEv":[function(require,module,exports) {
var define;
var global = arguments[3];
var process = require("process");
var t,e=arguments[3],n=require("process");!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):e.page=n()}(this,function(){"use strict";var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=g,i=h,r=function(t){return c(h(t))},o=c,a=d,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function h(t){for(var e,n=[],i=0,r=0,o="";null!=(e=s.exec(t));){var a=e[0],h=e[1],c=e.index;if(o+=t.slice(r,c),r=c+a.length,h)o+=h[1];else{o&&(n.push(o),o="");var p=e[2],f=e[3],l=e[4],d=e[5],g=e[6],v=e[7],m="+"===g||"*"===g,w="?"===g||"*"===g,y=p||"/",_=l||d||(v?".*":"[^"+y+"]+?");n.push({name:f||i++,prefix:p||"",delimiter:y,optional:w,repeat:m,pattern:u(_)})}}return r<t.length&&(o+=t.substr(r)),o&&n.push(o),n}function c(e){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^"+e[i].pattern+"$"));return function(i){for(var r="",o=i||{},a=0;a<e.length;a++){var s=e[a];if("string"!=typeof s){var h,c=o[s.name];if(null==c){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to be defined')}if(t(c)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received "'+c+'"');if(0===c.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var p=0;p<c.length;p++){if(h=encodeURIComponent(c[p]),!n[a].test(h))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received "'+h+'"');r+=(0===p?s.prefix:s.delimiter)+h}}else{if(h=encodeURIComponent(c),!n[a].test(h))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+h+'"');r+=s.prefix+h}}else r+=s}return r}}function p(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function f(t,e){return t.keys=e,t}function l(t){return t.sensitive?"":"i"}function d(t,e){for(var n=(e=e||{}).strict,i=!1!==e.end,r="",o=t[t.length-1],a="string"==typeof o&&/\/$/.test(o),s=0;s<t.length;s++){var h=t[s];if("string"==typeof h)r+=p(h);else{var c=p(h.prefix),u=h.pattern;h.repeat&&(u+="(?:"+c+u+")*"),r+=u=h.optional?c?"(?:"+c+"("+u+"))?":"("+u+")?":c+"("+u+")"}}return n||(r=(a?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=i?"$":n&&a?"":"(?=\\/|$)",new RegExp("^"+r,l(e))}function g(e,n,i){return t(n=n||[])?i||(i={}):(i=n,n=[]),e instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return f(t,e)}(e,n):t(e)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(g(t[r],e,n).source);return f(new RegExp("(?:"+i.join("|")+")",l(n)),e)}(e,n,i):function(t,e,n){for(var i=h(t),r=d(i,n),o=0;o<i.length;o++)"string"!=typeof i[o]&&e.push(i[o]);return f(r,e)}(e,n,i)}e.parse=i,e.compile=r,e.tokensToFunction=o,e.tokensToRegExp=a;var v,m="undefined"!=typeof document,w="undefined"!=typeof window,y="undefined"!=typeof history,_=void 0!==n,b=m&&document.ontouchstart?"touchstart":"click",x=w&&!(!window.history.location&&!window.location);function E(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function R(t,e){if("function"==typeof t)return R.call(this,"*",t);if("function"==typeof e)for(var n=new U(t,null,this),i=1;i<arguments.length;++i)this.callbacks.push(n.middleware(arguments[i]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function k(t,e,n){var i=this.page=n||R,r=i._window,o=i._hashbang,a=i._getBase();"/"===t[0]&&0!==t.indexOf(a)&&(t=a+(o?"#!":"")+t);var s=t.indexOf("?");this.canonicalPath=t;var h=new RegExp("^"+a.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"));if(this.path=t.replace(h,"")||"/",o&&(this.path=this.path.replace("#!","")||"/"),this.title=m&&r.document.title,this.state=e||{},this.state.path=t,this.querystring=~s?i._decodeURLEncodedURIComponent(t.slice(s+1)):"",this.pathname=i._decodeURLEncodedURIComponent(~s?t.slice(0,s):t),this.params={},this.hash="",!o){if(!~this.path.indexOf("#"))return;var c=this.path.split("#");this.path=this.pathname=c[0],this.hash=i._decodeURLEncodedURIComponent(c[1])||"",this.querystring=this.querystring.split("#")[0]}}function U(t,n,i){var r=this.page=i||L,o=n||{};o.strict=o.strict||r._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],o)}E.prototype.configure=function(t){var e=t||{};this._window=e.window||w&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&w,this._click=!1!==e.click&&m,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):w&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(b,this.clickHandler,!1):m&&n.document.removeEventListener(b,this.clickHandler,!1),this._hashbang&&w&&!y?n.addEventListener("hashchange",this._onpopstate,!1):w&&n.removeEventListener("hashchange",this._onpopstate,!1)},E.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},E.prototype._getBase=function(){var t=this._base;if(t)return t;var e=w&&this._window&&this._window.location;return w&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},E.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},E.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var n;if(this._running=!0,x){var i=this._window.location;n=this._hashbang&&~i.hash.indexOf("#!")?i.hash.substr(2)+i.search:this._hashbang?i.search+i.hash:i.pathname+i.search+i.hash}this.replace(n,null,!0,e.dispatch)}},E.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(b,this.clickHandler,!1),w&&t.removeEventListener("popstate",this._onpopstate,!1),w&&t.removeEventListener("hashchange",this._onpopstate,!1)}},E.prototype.show=function(t,e,n,i){var r=new k(t,e,this),o=this.prevContext;return this.prevContext=r,this.current=r.path,!1!==n&&this.dispatch(r,o),!1!==r.handled&&!1!==i&&r.pushState(),r},E.prototype.back=function(t,e){var n=this;if(this.len>0){var i=this._window;y&&i.history.back(),this.len--}else t?setTimeout(function(){n.show(t,e)}):setTimeout(function(){n.show(n._getBase(),e)})},E.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&R.call(this,t,function(t){setTimeout(function(){n.replace(e)},0)}),"string"==typeof t&&void 0===e&&setTimeout(function(){n.replace(t)},0)},E.prototype.replace=function(t,e,n,i){var r=new k(t,e,this),o=this.prevContext;return this.prevContext=r,this.current=r.path,r.init=n,r.save(),!1!==i&&this.dispatch(r,o),r},E.prototype.dispatch=function(t,e){var n=0,i=0,r=this;function o(){var e=r.callbacks[n++];if(t.path===r.current)return e?void e(t,o):function(t){if(t.handled)return;var e,n=this._window;e=this._hashbang?x&&this._getBase()+n.location.hash.replace("#!",""):x&&n.location.pathname+n.location.search;if(e===t.canonicalPath)return;this.stop(),t.handled=!1,x&&(n.location.href=t.canonicalPath)}.call(r,t);t.handled=!1}e?function t(){var n=r.exits[i++];if(!n)return o();n(e,t)}():o()},E.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new U(t,null,this),i=1;i<arguments.length;++i)this.exits.push(n.middleware(arguments[i]))},E.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n)for(var i=0;i<n.length;i++)if(n[i].nodeName&&"A"===n[i].nodeName.toUpperCase()&&n[i].href){e=n[i];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var r="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var o=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==o)&&!(o&&o.indexOf("mailto:")>-1)&&(r?!e.target.baseVal:!e.target)&&(r||this.sameOrigin(e.href))){var a=r?e.href.baseVal:e.pathname+e.search+(e.hash||"");a="/"!==a[0]?"/"+a:a,_&&a.match(/^\/[a-zA-Z]:\//)&&(a=a.replace(/^\/[a-zA-Z]:\//,"/"));var s=a,h=this._getBase();0===a.indexOf(h)&&(a=a.substr(h.length)),this._hashbang&&(a=a.replace("#!","")),(!h||s!==a||x&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(s))}}}}},E.prototype._onpopstate=(v=!1,w?(m&&"complete"===document.readyState?v=!0:window.addEventListener("load",function(){setTimeout(function(){v=!0},0)}),function(t){if(v)if(t.state){var e=t.state.path;this.replace(e,t.state)}else if(x){var n=this._window.location;this.show(n.pathname+n.search+n.hash,void 0,void 0,!1)}}):function(){}),E.prototype._which=function(t){return null==(t=t||w&&this._window.event).which?t.button:t.which},E.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&x)return new URL(t,e.location.toString());if(m){var n=e.document.createElement("a");return n.href=t,n}},E.prototype.sameOrigin=function(t){if(!t||!x)return!1;var e=this._toURL(t),n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))},E.prototype._samePath=function(t){if(!x)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},E.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},k.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,y&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},k.prototype.save=function(){var t=this.page;y&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},U.prototype.middleware=function(t){var e=this;return function(n,i){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,i);i()}},U.prototype.match=function(t,e){var n=this.keys,i=t.indexOf("?"),r=~i?t.slice(0,i):t,o=this.regexp.exec(decodeURIComponent(r));if(!o)return!1;delete e[0];for(var a=1,s=o.length;a<s;++a){var h=n[a-1],c=this.page._decodeURLEncodedURIComponent(o[a]);void 0===c&&hasOwnProperty.call(e,h.name)||(e[h.name]=c)}return!0};var L=function t(){var e=new E;function n(){return R.apply(e,arguments)}return n.callbacks=e.callbacks,n.exits=e.exits,n.base=e.base.bind(e),n.strict=e.strict.bind(e),n.start=e.start.bind(e),n.stop=e.stop.bind(e),n.show=e.show.bind(e),n.back=e.back.bind(e),n.redirect=e.redirect.bind(e),n.replace=e.replace.bind(e),n.dispatch=e.dispatch.bind(e),n.exit=e.exit.bind(e),n.configure=e.configure.bind(e),n.sameOrigin=e.sameOrigin.bind(e),n.clickHandler=e.clickHandler.bind(e),n.create=t,Object.defineProperty(n,"len",{get:function(){return e.len},set:function(t){e.len=t}}),Object.defineProperty(n,"current",{get:function(){return e.current},set:function(t){e.current=t}}),n.Context=k,n.Route=U,n}(),C=L,O=L;return C.default=O,C});
},{"process":"pBGv"}],"jicf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Errors=u;var e=require("@bikeshaving/crank"),r=function(e,r){var t,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=r.call(e,u)}catch(i){a=[6,i],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},t=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise(function(n,o){(function(e,r,t,n){Promise.resolve(n).then(function(r){e({value:r,done:t})},r)})(n,o,(r=e[t](r)).done,r.value)})}}},n=function(e){return this instanceof n?(this.v=e,this):new n(e)},o=function(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,a=t.apply(e,r||[]),u=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(e){a[e]&&(o[e]=function(r){return new Promise(function(t,n){u.push([e,r,t,n])>1||c(e,r)})})}function c(e,r){try{(t=a[e](r)).value instanceof n?Promise.resolve(t.value.v).then(s,l):f(u[0][2],t)}catch(o){f(u[0][3],o)}var t}function s(e){c("next",e)}function l(e){c("throw",e)}function f(e,r){e(r),u.shift(),u.length&&c(u[0][0],u[0][1])}},a=function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return u};function u(u){var i=u.errors;return o(this,arguments,function(){var o,u,c,s,l;return r(this,function(r){switch(r.label){case 0:r.trys.push([0,7,8,13]),o=t(this),r.label=1;case 1:return[4,n(o.next())];case 2:return(u=r.sent()).done?[3,6]:(i=u.value.errors,[4,n((0,e.createElement)("ul",{class:"error-messages"},Object.entries(i).flatMap(function(e){var r=a(e,2),t=r[0];return r[1].map(function(e){return t+" "+e})}).map(function(r){return(0,e.createElement)("li",null,r)})))]);case 3:return[4,r.sent()];case 4:r.sent(),r.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return c=r.sent(),s={error:c},[3,13];case 8:return r.trys.push([8,,11,12]),u&&!u.done&&(l=o.return)?[4,n(l.call(o))]:[3,10];case 9:r.sent(),r.label=10;case 10:return[3,12];case 11:if(s)throw s.error;return[7];case 12:return[7];case 13:return[2]}})})}
},{"@bikeshaving/crank":"k82I"}],"fkvO":[function(require,module,exports) {
"use strict";var e,t,r,o,n,s,l,i,a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteArticleListener=exports.deleteArticleEvent=exports.articleEditedListener=exports.articleEditedEvent=exports.articleCreatedListener=exports.articleCreatedEvent=exports.nextPageListener=exports.nextPageEvent=exports.prevPageListener=exports.prevPageEvent=exports.unfavoritePostListener=exports.unfavoritePostEvent=exports.favoritePostListener=exports.favoritePostEvent=exports.unfollowUserListener=exports.unfollowUserEvent=exports.followUserListener=exports.followUserEvent=void 0;var v=function(e,t){return new CustomEvent(e,{bubbles:!0,detail:t})},p=function(e,t){return[e,function(e){return t(e.detail)}]},x=function(e){return{event:function(t){return v(e,t)},listener:function(t){return p(e,t)}}},d=(e=x("realworld.follow-user")).event,u=e.listener;exports.followUserListener=u,exports.followUserEvent=d;var f=(t=x("realworld.unfollow-user")).event,c=t.listener;exports.unfollowUserListener=c,exports.unfollowUserEvent=f;var E=(r=x("realworld.favorite-post")).event,w=r.listener;exports.favoritePostListener=w,exports.favoritePostEvent=E;var L=(o=x("realworld.unfavorite-post")).event,P=o.listener;exports.unfavoritePostListener=P,exports.unfavoritePostEvent=L;var g=(n=x("realworld.prev-page")).event,U=n.listener;exports.prevPageListener=U,exports.prevPageEvent=g;var C=(s=x("realworld.next-page")).event,b=s.listener;exports.nextPageListener=b,exports.nextPageEvent=C;var A=(l=x("realworld.article-created")).event,_=l.listener;exports.articleCreatedListener=_,exports.articleCreatedEvent=A;var j=(i=x("realworld.article-edited")).event,m=i.listener;exports.articleEditedListener=m,exports.articleEditedEvent=j;var y=(a=x("realworld.delete-article")).event,M=a.listener;exports.deleteArticleListener=M,exports.deleteArticleEvent=y;
},{}],"UV5u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FollowUserButton=o;var e=require("@bikeshaving/crank"),t=require("../services/eventService"),n=function(e,t){var n,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(u){l=[6,u],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}},r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(o){var l,a,u,s,i,c,f,b,p=this,y=o.username,h=o.following;return n(this,function(n){switch(n.label){case 0:l=function(e){e.preventDefault(),p.dispatchEvent((0,t.followUserEvent)({username:y}))},a=function(e){e.preventDefault(),p.dispatchEvent((0,t.unfollowUserEvent)({username:y}))},n.label=1;case 1:n.trys.push([1,6,7,8]),u=r(this),s=u.next(),n.label=2;case 2:return s.done?[3,5]:(b=s.value,y=b.username,h=b.following,[4,(0,e.createElement)(e.Fragment,null,h&&(0,e.createElement)("button",{type:"button",class:"btn btn-sm btn-secondary",onclick:a},(0,e.createElement)("i",{class:"ion-plus-round"})," Unfollow ",y),!h&&(0,e.createElement)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onclick:l},(0,e.createElement)("i",{class:"ion-plus-round"})," Follow ",y))]);case 3:n.sent(),n.label=4;case 4:return s=u.next(),[3,2];case 5:return[3,8];case 6:return i=n.sent(),c={error:i},[3,8];case 7:try{s&&!s.done&&(f=u.return)&&f.call(u)}finally{if(c)throw c.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","../services/eventService":"fkvO"}],"OLp4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Footer=t;var e=require("@bikeshaving/crank");function t(){return(0,e.createElement)("footer",null,(0,e.createElement)("div",{class:"container"},(0,e.createElement)("a",{href:"/",class:"logo-font"},"conduit"),(0,e.createElement)("span",{class:"attribution"},"An interactive learning project from ",(0,e.createElement)("a",{href:"https://thinkster.io"},"Thinkster"),". Code & design licensed under MIT.")))}
},{"@bikeshaving/crank":"k82I"}],"BZOY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadingIndicator=r;var e=require("@bikeshaving/crank");function r(){return(0,e.createElement)("div",{className:"spinner-border"})}
},{"@bikeshaving/crank":"k82I"}],"zWBN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderer=exports.env=exports.DOMRenderer=void 0;var e,r=require("./index-ff226fef.js");function t(e,t,n){for(var a in(0,r.g)((0,r.g)({},t),n)){var l=t[a],o=n[a];switch(!0){case"children"===a:break;case"class"===a:case"className"===a:e.className=o;break;case"style"===a&&"style"in e:var s=e.style;if(null==o)e.removeAttribute("style");else if("string"==typeof o)s.cssText=o;else for(var i in Object.assign({},l,o)){var c=l&&l[i],u=o&&o[i];null==u?s.removeProperty(i):c!==u&&s.setProperty(i,u)}break;default:if(a in e){e[a]=o;break}!0===o?e.setAttribute(a,""):!1===o||null==o?e.removeAttribute(a):e.setAttribute(a,o)}}}function n(e,t){var n,a,l,o;if(0!==e.childNodes.length){var s=e.firstChild;try{for(var i=(0,r.f)(t),c=i.next();!c.done;c=i.next()){var u=c.value;null===s?e.appendChild("string"==typeof u?document.createTextNode(u):u):"string"==typeof u?s.nodeType===Node.TEXT_NODE?(s.nodeValue!==u&&(s.nodeValue=u),s=s.nextSibling):e.insertBefore(document.createTextNode(u),s):s!==u?e.insertBefore(u,s):s=s.nextSibling}}catch(p){l={error:p}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(l)throw l.error}}for(;null!==s;){var f=s.nextSibling;e.removeChild(s),s=f}}else{var d=document.createDocumentFragment();try{for(var h=(0,r.f)(t),v=h.next();!v.done;v=h.next()){var y=v.value;"string"==typeof y&&(y=document.createTextNode(y)),d.appendChild(y)}}catch(m){n={error:m}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}e.appendChild(d)}}function a(e){if("function"==typeof document.createRange)return document.createRange().createContextualFragment(e);for(var r=document.createDocumentFragment(),t=(new DOMParser).parseFromString(e,"text/html").body.childNodes,n=0;n<t.length;n++)r.appendChild(t[n]);return r}var l=((e={})[r.D]=function(e){return function(){var a,l,o,s,i,c,u,f,d,h,v;return(0,r._)(this,function(y){switch(y.label){case 0:a=document.createElement(e),l={},s=[],y.label=1;case 1:y.trys.push([1,6,7,8]),c=(0,r.f)(this),u=c.next(),y.label=2;case 2:return u.done?[3,5]:(f=u.value,i=f.children,o=(0,r.e)(f,["children"]),t(a,l,o),l=o,"innerHTML"in o||!(s.length>0||i.length>0)||(n(a,i),s=i),[4,a]);case 3:y.sent(),y.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return d=y.sent(),h={error:d},[3,8];case 7:try{u&&!u.done&&(v=c.return)&&v.call(c)}finally{if(h)throw h.error}return[7];case 8:return[2]}})}},e[r.R]=function(e){var r=e.value;return"string"==typeof r?a(r):r},e[r.P]=function(e){var t,a,l,o,s,i,c,u,f=e.root;return(0,r._)(this,function(e){switch(e.label){case 0:if(null==f)throw new TypeError("Portal element is missing root node");e.label=1;case 1:e.trys.push([1,,10,11]),e.label=2;case 2:e.trys.push([2,7,8,9]),t=(0,r.f)(this),a=t.next(),e.label=3;case 3:if(a.done)return[3,6];if(l=a.value,o=l.root,s=l.children,null==o)throw new TypeError("Portal element is missing root node");return f!==o&&(n(f,[]),f=o),n(f,s),[4,f];case 4:e.sent(),e.label=5;case 5:return a=t.next(),[3,3];case 6:return[3,9];case 7:return i=e.sent(),c={error:i},[3,9];case 8:try{a&&!a.done&&(u=t.return)&&u.call(t)}finally{if(c)throw c.error}return[7];case 9:return[3,11];case 10:return n(f,[]),[7];case 11:return[2]}})},e);exports.env=l;var o=function(e){function t(){return e.call(this,l)||this}return(0,r.d)(t,e),t}(r.b);exports.DOMRenderer=o;var s=new o;exports.renderer=s;
},{"./index-ff226fef.js":"n6rD"}],"PjJi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./esm/dom.js");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./esm/dom.js":"zWBN"}],"TnIE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=void 0;var e=require("@bikeshaving/crank/dom"),r=function(r){e.renderer.render(r,document.getElementById("app")||void 0)};exports.render=r;
},{"@bikeshaving/crank/dom":"PjJi"}],"SSrD":[function(require,module,exports) {
"use strict";function t(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function e(t){return!!t&&!!t[B]}function r(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||Array.isArray(t)||!!t[q]||!!t.constructor[q]||f(t)||s(t))}function n(t){if(t&&t[B])return t[B].t}function o(t,e){0===i(t)?L(t).forEach(function(r){return e(r,t[r],t)}):t.forEach(function(r,n){return e(n,r,t)})}function i(t){var e=t[B];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:f(t)?2:s(t)?3:0}function a(t,e){return 2===i(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){return 2===i(t)?t.get(e):t[e]}function c(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function f(t){return W&&t instanceof Map}function s(t){return K&&t instanceof Set}function p(t){return t.o||t.t}function l(e,r){if(void 0===r&&(r=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return o(e,function(o){if(o!==B){var i=Object.getOwnPropertyDescriptor(e,o),a=i.value;i.get&&(r||t(1),a=i.get.call(e)),i.enumerable?n[o]=a:Object.defineProperty(n,o,{value:a,writable:!0,configurable:!0})}}),n}function h(t,n){e(t)||Object.isFrozen(t)||!r(t)||(i(t)>1&&(t.set=t.add=t.clear=t.delete=v),Object.freeze(t),n&&o(t,function(t,e){return h(e,!0)}))}function v(){t(2)}function d(e){var r=Q[e];return r||t(19,e),r}function y(t,e){Q[t]=e}function b(){return T}function g(t,e){e&&(d("Patches"),t.u=[],t.s=[],t.v=e)}function m(t){P(t),t.p.forEach(x),t.p=null}function P(t){t===T&&(T=t.l)}function O(t){return T={p:[],l:T,h:t,m:!0,_:0}}function x(t){var e=t[B];0===e.i||1===e.i?e.j():e.O=!0}function A(e,n){n._=n.p.length;var o=n.p[0],i=void 0!==e&&e!==o;return n.h.g||d("ES5").S(n,e,i),i?(o[B].P&&(m(n),t(4)),r(e)&&(e=j(n,e),n.l||D(n,e)),n.u&&d("Patches").M(o[B],e,n.u,n.s)):e=j(n,o,[]),m(n),n.u&&n.v(n.u,n.s),e!==X?e:void 0}function j(t,e,r){if(Object.isFrozen(e))return e;var n=e[B];if(!n)return o(e,function(o,i){return w(t,n,e,o,i,r)}),e;if(n.A!==t)return e;if(!n.P)return D(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=l(n.k,!0):n.o;o(i,function(e,o){return w(t,n,i,e,o,r)}),D(t,i,!1),r&&t.u&&d("Patches").R(n,r,t.u,t.s)}return n.o}function w(t,n,o,f,s,p){if(e(s)){var l=j(t,s,p&&n&&3!==n.i&&!a(n.D,f)?p.concat(f):void 0);if(v=f,d=l,2===(y=i(h=o))?h.set(v,d):3===y?(h.delete(v),h.add(d)):h[v]=d,!e(l))return;t.m=!1}var h,v,d,y;if((!n||!c(s,u(n.t,f)))&&r(s)){if(!t.h.N&&t._<1)return;j(t,s),n&&n.A.l||D(t,s)}}function D(t,e,r){void 0===r&&(r=!1),t.h.N&&t.m&&h(e,r)}function S(t,e){var r=t[B],n=Reflect.getOwnPropertyDescriptor(r?p(r):t,e);return n&&n.value}function k(t){if(!t.P){if(t.P=!0,0===t.i||1===t.i){var e=t.o=l(t.t);o(t.p,function(t,r){e[t]=r}),t.p=void 0}t.l&&k(t.l)}}function I(t){t.o||(t.o=l(t.t))}function _(t,e,r){var n=f(e)?d("MapSet").T(e,r):s(e)?d("MapSet").F(e,r):t.g?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:b(),P:!1,I:!1,D:{},l:e,t:t,k:null,p:{},o:null,j:null,C:!1},o=n,i=V;r&&(o=[n],i=Y);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return n.k=c,n.j=u,c}(e,r):d("ES5").J(e,r);return(r?r.A:b()).p.push(n),n}function E(t,e){t.g?k(e):d("ES5").K(e)}function z(){function n(t,e){var r=t[B];if(r&&!r.$){r.$=!0;var n=t[e];return r.$=!1,n}return t[e]}function i(t){t.P||(t.P=!0,t.l&&i(t.l))}function u(t){t.o||(t.o=f(t.t))}function f(t){var e=t&&t[B];if(e){e.$=!0;var r=l(e.k,!0);return e.$=!1,r}return l(t)}function s(t){for(var e=t.length-1;e>=0;e--){var r=t[e][B];if(!r.P)switch(r.i){case 5:v(r)&&i(r);break;case 4:h(r)&&i(r)}}}function h(t){for(var e=t.t,r=t.k,n=Object.keys(r),o=n.length-1;o>=0;o--){var i=n[o],u=e[i];if(void 0===u&&!a(e,i))return!0;var f=r[i],s=f&&f[B];if(s?s.t!==u:!c(f,u))return!0}return n.length!==Object.keys(e).length}function v(t){var e=t.k;if(e.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!r||r.get)}function d(e){e.O&&t(3,JSON.stringify(p(e)))}var g={};y("ES5",{J:function(t,e){var a=Array.isArray(t),s=f(t);o(s,function(e){!function(t,e,o){var a=g[e];a?a.enumerable=o:g[e]=a={enumerable:o,get:function(){return function(t,e){d(t);var o=n(p(t),e);return t.$?o:o===n(t.t,e)&&r(o)?(u(t),t.o[e]=_(t.A.h,o,t)):o}(this[B],e)},set:function(t){!function(t,e,r){if(d(t),t.D[e]=!0,!t.P){if(c(r,n(p(t),e)))return;i(t),u(t)}t.o[e]=r}(this[B],e,t)}},Object.defineProperty(t,e,a)}(s,e,a||function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(!r||!r.enumerable)}(t,e))});var l={i:a?5:4,A:e?e.A:b(),P:!1,$:!1,I:!1,D:{},l:e,t:t,k:s,o:null,O:!1,C:!1};return Object.defineProperty(s,B,{value:l,writable:!0}),s},K:i,S:function(t,r,n){t.p.forEach(function(t){t[B].$=!0}),n?e(r)&&r[B].A===t&&s(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var r=e[B];if(r){var n=r.t,u=r.k,c=r.D,f=r.i;if(4===f)o(u,function(e){e!==B&&(void 0!==n[e]||a(n,e)?c[e]||t(u[e]):(c[e]=!0,i(r)))}),o(n,function(t){void 0!==u[t]||a(u,t)||(c[t]=!1,i(r))});else if(5===f){if(v(r)&&(i(r),c.length=!0),u.length<n.length)for(var s=u.length;s<n.length;s++)c[s]=!1;else for(var p=n.length;p<u.length;p++)c[p]=!0;for(var l=Math.min(u.length,n.length),h=0;h<l;h++)void 0===c[h]&&t(u[h])}}}}(t.p[0]),s(t.p))}})}function M(){function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);if(f(t))return new Map(Array.from(t.entries()).map(function(t){return[t[0],e(t[1])]}));if(s(t))return new Set(Array.from(t).map(e));var r=Object.create(Object.getPrototypeOf(t));for(var n in t)r[n]=e(t[n]);return r}var r="add";y("Patches",{U:function(n,o){return o.forEach(function(o){for(var a=o.path,c=o.op,f=n,s=0;s<a.length-1;s++)"object"!=typeof(f=u(f,a[s]))&&t(15,a.join("/"));var p=i(f),l=e(o.value),h=a[a.length-1];switch(c){case"replace":switch(p){case 2:return f.set(h,l);case 3:t(16);default:return f[h]=l}case r:switch(p){case 1:return f.splice(h,0,l);case 2:return f.set(h,l);case 3:return f.add(l);default:return f[h]=l}case"remove":switch(p){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(o.value);default:return delete f[h]}default:t(17,c)}}),n},R:function(t,e,n,i){switch(t.i){case 0:case 4:case 2:return function(t,e,n,i){var c=t.t,f=t.o;o(t.D,function(t,o){var s=u(c,t),p=u(f,t),l=o?a(c,t)?"replace":r:"remove";if(s!==p||"replace"!==l){var h=e.concat(t);n.push("remove"===l?{op:l,path:h}:{op:l,path:h,value:p}),i.push(l===r?{op:"remove",path:h}:"remove"===l?{op:r,path:h,value:s}:{op:"replace",path:h,value:s})}})}(t,e,n,i);case 5:case 1:return function(t,e,n,o){var i=t.t,a=t.D,u=t.o;if(u.length<i.length){var c=[u,i];i=c[0],u=c[1];var f=[o,n];n=f[0],o=f[1]}for(var s=u.length-i.length,p=0;i[p]===u[p]&&p<i.length;)++p;for(var l=i.length;l>p&&i[l-1]===u[l+s-1];)--l;for(var h=p;h<l;++h)if(a[h]&&u[h]!==i[h]){var v=e.concat([h]);n.push({op:"replace",path:v,value:u[h]}),o.push({op:"replace",path:v,value:i[h]})}for(var d=n.length,y=l+s-1;y>=l;--y){var b=e.concat([y]);n[d+y-l]={op:r,path:b,value:u[y]},o.push({op:"remove",path:b})}}(t,e,n,i);case 3:return function(t,e,n,o){var i=t.t,a=t.o,u=0;i.forEach(function(t){if(!a.has(t)){var i=e.concat([u]);n.push({op:"remove",path:i,value:t}),o.unshift({op:r,path:i,value:t})}u++}),u=0,a.forEach(function(t){if(!i.has(t)){var a=e.concat([u]);n.push({op:r,path:a,value:t}),o.unshift({op:"remove",path:a,value:t})}u++})}(t,e,n,i)}},M:function(t,e,r,n){r.push({op:"replace",path:[],value:e}),n.push({op:"replace",path:[],value:t.t})}})}function F(){function e(t,e){function r(){this.constructor=t}a(t,e),t.prototype=(r.prototype=e.prototype,new r)}function n(t){t.o||(t.D=new Map,t.o=new Map(t.t))}function o(t){t.o||(t.o=new Set,t.t.forEach(function(e){if(r(e)){var n=_(t.A.h,e,t);t.p.set(e,n),t.o.add(n)}else t.o.add(e)}))}function i(e){e.O&&t(3,JSON.stringify(p(e)))}var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},u=function(){function t(t,e){return this[B]={i:2,l:e,A:e?e.A:b(),P:!1,I:!1,o:void 0,D:void 0,t:t,k:this,C:!1,O:!1},this}e(t,Map);var o=t.prototype;return Object.defineProperty(o,"size",{get:function(){return p(this[B]).size}}),o.has=function(t){return p(this[B]).has(t)},o.set=function(t,e){var r=this[B];return i(r),p(r).get(t)!==e&&(n(r),E(r.A.h,r),r.D.set(t,!0),r.o.set(t,e),r.D.set(t,!0)),this},o.delete=function(t){if(!this.has(t))return!1;var e=this[B];return i(e),n(e),E(e.A.h,e),e.D.set(t,!1),e.o.delete(t),!0},o.clear=function(){var t=this[B];return i(t),n(t),E(t.A.h,t),t.D=new Map,t.o.clear()},o.forEach=function(t,e){var r=this;p(this[B]).forEach(function(n,o){t.call(e,r.get(o),o,r)})},o.get=function(t){var e=this[B];i(e);var o=p(e).get(t);if(e.I||!r(o))return o;if(o!==e.t.get(t))return o;var a=_(e.A.h,o,e);return n(e),e.o.set(t,a),a},o.keys=function(){return p(this[B]).keys()},o.values=function(){var t,e=this,r=this.keys();return(t={})[G]=function(){return e.values()},t.next=function(){var t=r.next();return t.done?t:{done:!1,value:e.get(t.value)}},t},o.entries=function(){var t,e=this,r=this.keys();return(t={})[G]=function(){return e.entries()},t.next=function(){var t=r.next();if(t.done)return t;var n=e.get(t.value);return{done:!1,value:[t.value,n]}},t},o[G]=function(){return this.entries()},t}(),c=function(){function t(t,e){return this[B]={i:3,l:e,A:e?e.A:b(),P:!1,I:!1,o:void 0,t:t,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return p(this[B]).size}}),r.has=function(t){var e=this[B];return i(e),e.o?!!e.o.has(t)||!(!e.p.has(t)||!e.o.has(e.p.get(t))):e.t.has(t)},r.add=function(t){var e=this[B];return i(e),e.o?e.o.add(t):e.t.has(t)||(o(e),E(e.A.h,e),e.o.add(t)),this},r.delete=function(t){if(!this.has(t))return!1;var e=this[B];return i(e),o(e),E(e.A.h,e),e.o.delete(t)||!!e.p.has(t)&&e.o.delete(e.p.get(t))},r.clear=function(){var t=this[B];return i(t),o(t),E(t.A.h,t),t.o.clear()},r.values=function(){var t=this[B];return i(t),o(t),t.o.values()},r.entries=function(){var t=this[B];return i(t),o(t),t.o.entries()},r.keys=function(){return this.values()},r[G]=function(){return this.values()},r.forEach=function(t,e){for(var r=this.values(),n=r.next();!n.done;)t.call(e,n.value,n.value,this),n=r.next()},t}();y("MapSet",{T:function(t,e){return new u(t,e)},F:function(t,e){return new c(t,e)}})}function R(){z(),F(),M()}function $(t){return t}function N(t){return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.castDraft=$,exports.castImmutable=N,exports.enableAllPlugins=R,exports.enableES5=z,exports.enableMapSet=F,exports.enablePatches=M,exports.isDraft=e,exports.isDraftable=r,exports.original=n,exports.setUseProxies=exports.setAutoFreeze=exports.produceWithPatches=exports.produce=exports.nothing=exports.immerable=exports.finishDraft=exports.createDraft=exports.applyPatches=exports.Immer=exports.default=void 0;var C,T,U="undefined"!=typeof Symbol,W="undefined"!=typeof Map,K="undefined"!=typeof Set,J="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,X=U?Symbol("immer-nothing"):((C={})["immer-nothing"]=!0,C),q=U?Symbol("immer-draftable"):"__$immer_draftable",B=U?Symbol("immer-state"):"__$immer_state",G=U?Symbol.iterator:"@@iterator",H={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},19:"plugin not loaded",20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available"},L="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Q={},V={get:function(t,e){if(e===B)return t;var n=t.p;if(!t.P&&a(n,e))return n[e];var o=p(t)[e];if(t.I||!r(o))return o;if(t.P){if(o!==S(t.t,e))return o;n=t.o}return n[e]=_(t.A.h,o,t)},has:function(t,e){return e in p(t)},ownKeys:function(t){return Reflect.ownKeys(p(t))},set:function(t,e,r){if(!t.P){var n=S(t.t,e);if(r?c(n,r)||r===t.p[e]:c(n,r)&&e in t.t)return!0;I(t),k(t)}return t.D[e]=!0,t.o[e]=r,!0},deleteProperty:function(t,e){return void 0!==S(t.t,e)||e in t.t?(t.D[e]=!1,I(t),k(t)):t.D[e]&&delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=p(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&(n.writable=!0,n.configurable=1!==t.i||"length"!==e),n},defineProperty:function(){t(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){t(12)}},Y={};exports.immerable=q,exports.nothing=X,o(V,function(t,e){Y[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Y.deleteProperty=function(t,e){return V.deleteProperty.call(this,t[0],e)},Y.set=function(t,e,r){return V.set.call(this,t[0],e,r,t[0])};var Z=function(){function n(t){this.g=J,this.N=!1,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var o=n.prototype;return o.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=this;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(t,function(t){var r;return(r=n).call.apply(r,[e,t].concat(o))})}}var u;if("function"!=typeof n&&t(6),void 0!==o&&"function"!=typeof o&&t(7),r(e)){var c=O(this),f=_(this,e,void 0),s=!0;try{u=n(f),s=!1}finally{s?m(c):P(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then(function(t){return g(c,o),A(t,c)},function(t){throw m(c),t}):(g(c,o),A(u,c))}if((u=n(e))!==X)return void 0===u&&(u=e),this.N&&h(u,!0),u},o.produceWithPatches=function(t,e){var r,n,o=this;return"function"==typeof t?function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o.produceWithPatches(e,function(e){return t.apply(void 0,[e].concat(n))})}:[this.produce(t,e,function(t,e){r=t,n=e}),r,n]},o.createDraft=function(e){r(e)||t(8);var n=O(this),o=_(this,e,void 0);return o[B].C=!0,P(n),o},o.finishDraft=function(t,e){var r=t&&t[B],n=r.A;return g(n,e),A(void 0,n)},o.setAutoFreeze=function(t){this.N=t},o.setUseProxies=function(e){J||t(20),this.g=e},o.applyPatches=function(t,r){var n;for(n=r.length-1;n>=0;n--){var o=r[n];if(0===o.path.length&&"replace"===o.op){t=o.value;break}}var i=d("Patches").U;return e(t)?i(t,r):this.produce(t,function(t){return i(t,r.slice(n+1))})},n}(),tt=new Z,et=tt.produce,rt=tt.produceWithPatches.bind(tt),nt=tt.setAutoFreeze.bind(tt),ot=tt.setUseProxies.bind(tt),it=tt.applyPatches.bind(tt),at=tt.createDraft.bind(tt),ut=tt.finishDraft.bind(tt);exports.finishDraft=ut,exports.createDraft=at,exports.applyPatches=it,exports.setUseProxies=ot,exports.setAutoFreeze=nt,exports.produceWithPatches=rt,exports.produce=et,exports.Immer=Z;var ct=et;exports.default=ct;
},{}],"lm5O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createState=r;var e=t(require("immer"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=t,n=[];return{watch:function(e){return n.push(e),e},unwatch:function(e){var t=n.indexOf(e);t>=0&&n.splice(t,1)},get:function(){return r},set:function(t){r=(0,e.default)(r,t),n.forEach(function(e){return e()})}}}
},{"immer":"SSrD"}],"s2T4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./render");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./createState");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});
},{"./render":"TnIE","./createState":"lm5O"}],"qsQo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setUser=exports.isLoggedIn=exports.getUser=exports.unwatchUser=exports.watchUser=void 0;var e=require("../utils"),r={user:null},t=(0,e.createState)(r),s=t.watch,o=t.unwatch,u=t.get,a=t.set,n=s;exports.watchUser=n;var l=o;exports.unwatchUser=l;var c=function(){var e=u().user;if(null==e){var r=localStorage.getItem("user");r&&(e=JSON.parse(r),p(e))}return e};exports.getUser=c;var i=function(){return null!==c()};exports.isLoggedIn=i;var p=function(e){a(function(r){r.user=e,null==e?localStorage.removeItem("user"):localStorage.setItem("user",JSON.stringify(e))})};exports.setUser=p;
},{"../utils":"s2T4"}],"qb7c":[function(require,module,exports) {
var define;
var e;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var s=n.apply(null,o);s&&e.push(s)}else if("object"===a)for(var u in o)r.call(o,u)&&o[u]&&e.push(u)}}return e.join(" ")}"undefined"!=typeof module&&module.exports?(n.default=n,module.exports=n):"function"==typeof e&&"object"==typeof e.amd&&e.amd?e("classnames",[],function(){return n}):window.classNames=n}();
},{}],"oXgt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewPostNavLink=u;var e=require("@bikeshaving/crank"),t=require("../screens"),n=require("../services/eventService"),r=o(require("page"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function c(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,c)}l((r=r.apply(e,t||[])).next())})},i=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e};function u(){var o,c,u,s,f=this;return i(this,function(d){switch(d.label){case 0:o=!1,c=null,u=function(e){e.preventDefault(),o=!0,document.body.classList.add("modal-open"),c=document.createElement("div"),document.body.appendChild(c),f.refresh()},s=function(){return a(f,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return o=!1,null==c||c.remove(),document.body.classList.remove("modal-open"),[4,this.refresh()];case 1:return e.sent(),[2]}})})},this.addEventListener.apply(this,l((0,n.articleCreatedListener)(function(e){var t=e.article;a(f,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,s()];case 1:return e.sent(),(0,r.default)("/article/"+t.slug),[2]}})})}))),d.label=1;case 1:return[4,(0,e.createElement)(e.Fragment,null,(0,e.createElement)("a",{class:"nav-link",href:"",onclick:u},(0,e.createElement)("i",{class:"ion-compose"}),"New Post"),o&&(0,e.createElement)(e.Portal,{root:c},(0,e.createElement)(t.CreateArticleScreen,{hide:s})))];case 2:return d.sent(),[3,1];case 3:return[2]}})}
},{"@bikeshaving/crank":"k82I","../screens":"nYHZ","../services/eventService":"fkvO","page":"bUEv"}],"duUx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Navbar=o;var e=require("@bikeshaving/crank"),t=require("../state/userState"),n=a(require("classnames")),r=require("./NewPostNavLink");function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n,r,a,l,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){s.label=l[1];break}if(6===l[0]&&s.label<a[1]){s.label=a[1],a=l;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(l);break}a[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(i){l=[6,i],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},s=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,a,(t=e[n](t)).done,t.value)})}}},i=function(e){return this instanceof i?(this.v=e,this):new i(e)},c=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),l=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise(function(n,r){l.push([e,t,n,r])>1||c(e,t)})})}function c(e,t){try{(n=a[e](t)).value instanceof i?Promise.resolve(n.value.v).then(o,u):f(l[0][2],n)}catch(r){f(l[0][3],r)}var n}function o(e){c("next",e)}function u(e){c("throw",e)}function f(e,t){e(t),l.shift(),l.length&&c(l[0][0],l[0][1])}};function o(a){var o=a.active;return c(this,arguments,function(){var a,c,u,f,v,m;return l(this,function(l){switch(l.label){case 0:a=(0,t.getUser)(),l.label=1;case 1:l.trys.push([1,8,9,14]),c=s(this),l.label=2;case 2:return[4,i(c.next())];case 3:return(u=l.sent()).done?[3,7]:(o=u.value.active,[4,i((0,e.createElement)("nav",{class:"navbar navbar-light"},(0,e.createElement)("div",{class:"container"},(0,e.createElement)("a",{class:"navbar-brand",href:"/"},"conduit"),(0,e.createElement)("ul",{class:"nav navbar-nav pull-xs-right"},(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,n.default)("nav-link",{active:"home"===o}),href:"/"},"Home")),(0,t.isLoggedIn)()&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)(r.NewPostNavLink,null)),(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,n.default)("nav-link",{active:"settings"===o}),href:"/settings"},(0,e.createElement)("i",{class:"ion-gear-a"}),"Settings")),(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:"nav-link",href:"/profile/"+a.username},(0,e.createElement)("img",{src:a.image,class:"user-pic"}),"Profile")),(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:"nav-link",href:"/logout"},"Log Out"))),!(0,t.isLoggedIn)()&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,n.default)("nav-link",{active:"login"===o}),href:"/login"},"Sign in")),(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,n.default)("nav-link",{active:"register"===o}),href:"/register"},"Sign up")))))))]);case 4:return[4,l.sent()];case 5:l.sent(),l.label=6;case 6:return[3,2];case 7:return[3,14];case 8:return f=l.sent(),v={error:f},[3,14];case 9:return l.trys.push([9,,12,13]),u&&!u.done&&(m=c.return)?[4,i(m.call(c))]:[3,11];case 10:l.sent(),l.label=11;case 11:return[3,13];case 12:if(v)throw v.error;return[7];case 13:return[7];case 14:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../state/userState":"qsQo","classnames":"qb7c","./NewPostNavLink":"oXgt"}],"iVTS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Errors");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./FollowUserButton");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./Footer");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var o=require("./LoadingIndicator");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})});var n=require("./Navbar");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./NewPostNavLink");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});
},{"./Errors":"jicf","./FollowUserButton":"UV5u","./Footer":"OLp4","./LoadingIndicator":"BZOY","./Navbar":"duUx","./NewPostNavLink":"oXgt"}],"BBjb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Banner=n;var e=require("@bikeshaving/crank");function n(){return(0,e.createElement)("div",{class:"banner"},(0,e.createElement)("div",{class:"container"},(0,e.createElement)("h1",{class:"logo-font"},"conduit"),(0,e.createElement)("p",null,"A place to share your knowledge.")))}
},{"@bikeshaving/crank":"k82I"}],"A2is":[function(require,module,exports) {
"use strict";module.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase())));
},{}],"pWxZ":[function(require,module,exports) {
"use strict";var e="%[a-f0-9]{2}",t=new RegExp(e,"gi"),r=new RegExp("("+e+")+","gi");function n(e,t){try{return decodeURIComponent(e.join(""))}catch(c){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],n(r),n(o))}function o(e){try{return decodeURIComponent(e)}catch(c){for(var r=e.match(t),o=1;o<r.length;o++)r=(e=n(r,o).join("")).match(t);return e}}function c(e){for(var t={"%FE%FF":"","%FF%FE":""},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(u){var c=o(n[0]);c!==n[0]&&(t[n[0]]=c)}n=r.exec(e)}t["%C2"]="";for(var a=Object.keys(t),p=0;p<a.length;p++){var i=a[p];e=e.replace(new RegExp(i,"g"),t[i])}return e}module.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return c(e)}};
},{}],"t7Jq":[function(require,module,exports) {
"use strict";module.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]};
},{}],"FvpG":[function(require,module,exports) {
"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function t(r){return a(r)||o(r)||n(r)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(r,t){if(r){if("string"==typeof r)return i(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(r,t):void 0}}function o(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function a(r){if(Array.isArray(r))return i(r)}function i(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var u=require("strict-uri-encode"),c=require("decode-uri-component"),s=require("split-on-first"),l=function(r){return null==r};function f(r){switch(r.arrayFormat){case"index":return function(e){return function(n,o){var a=n.length;return void 0===o||r.skipNull&&null===o||r.skipEmptyString&&""===o?n:[].concat(t(n),null===o?[[m(e,r),"[",a,"]"].join("")]:[[m(e,r),"[",m(a,r),"]=",m(o,r)].join("")])}};case"bracket":return function(e){return function(n,o){return void 0===o||r.skipNull&&null===o||r.skipEmptyString&&""===o?n:[].concat(t(n),null===o?[[m(e,r),"[]"].join("")]:[[m(e,r),"[]=",m(o,r)].join("")])}};case"comma":case"separator":return function(t){return function(e,n){return null==n||0===n.length?e:0===e.length?[[m(t,r),"=",m(n,r)].join("")]:[[e,m(n,r)].join(r.arrayFormatSeparator)]}};default:return function(e){return function(n,o){return void 0===o||r.skipNull&&null===o||r.skipEmptyString&&""===o?n:[].concat(t(n),null===o?[m(e,r)]:[[m(e,r),"=",m(o,r)].join("")])}}}}function p(r){var t;switch(r.arrayFormat){case"index":return function(r,e,n){t=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),t?(void 0===n[r]&&(n[r]={}),n[r][t[1]]=e):n[r]=e};case"bracket":return function(r,e,n){t=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),t?void 0!==n[r]?n[r]=[].concat(n[r],e):n[r]=[e]:n[r]=e};case"comma":case"separator":return function(t,e,n){var o="string"==typeof e&&e.split("").indexOf(r.arrayFormatSeparator)>-1?e.split(r.arrayFormatSeparator).map(function(t){return b(t,r)}):null===e?e:b(e,r);n[t]=o};default:return function(r,t,e){void 0!==e[r]?e[r]=[].concat(e[r],t):e[r]=t}}}function y(r){if("string"!=typeof r||1!==r.length)throw new TypeError("arrayFormatSeparator must be single character string")}function m(r,t){return t.encode?t.strict?u(r):encodeURIComponent(r):r}function b(r,t){return t.decode?c(r):r}function d(t){return Array.isArray(t)?t.sort():"object"===r(t)?d(Object.keys(t)).sort(function(r,t){return Number(r)-Number(t)}).map(function(r){return t[r]}):t}function v(r){var t=r.indexOf("#");return-1!==t&&(r=r.slice(0,t)),r}function j(r){var t="",e=r.indexOf("#");return-1!==e&&(t=r.slice(e)),t}function g(r){var t=(r=v(r)).indexOf("?");return-1===t?"":r.slice(t+1)}function S(r,t){return t.parseNumbers&&!Number.isNaN(Number(r))&&"string"==typeof r&&""!==r.trim()?r=Number(r):!t.parseBooleans||null===r||"true"!==r.toLowerCase()&&"false"!==r.toLowerCase()||(r="true"===r.toLowerCase()),r}function O(t,e){y((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);var n=p(e),o=Object.create(null);if("string"!=typeof t)return o;if(!(t=t.trim().replace(/^[?#&]/,"")))return o;for(var a of t.split("&")){var[i,u]=s(e.decode?a.replace(/\+/g," "):a,"=");u=void 0===u?null:["comma","separator"].includes(e.arrayFormat)?u:b(u,e),n(b(i,e),u,o)}for(var c of Object.keys(o)){var l=o[c];if("object"===r(l)&&null!==l)for(var f of Object.keys(l))l[f]=S(l[f],e);else o[c]=S(l,e)}return!1===e.sort?o:(!0===e.sort?Object.keys(o).sort():Object.keys(o).sort(e.sort)).reduce(function(t,e){var n=o[e];return Boolean(n)&&"object"===r(n)&&!Array.isArray(n)?t[e]=d(n):t[e]=n,t},Object.create(null))}exports.extract=g,exports.parse=O,exports.stringify=function(r,t){if(!r)return"";y((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);var e=function(e){return t.skipNull&&l(r[e])||t.skipEmptyString&&""===r[e]},n=f(t),o={};for(var a of Object.keys(r))e(a)||(o[a]=r[a]);var i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map(function(e){var o=r[e];return void 0===o?"":null===o?m(e,t):Array.isArray(o)?o.reduce(n(e),[]).join("&"):m(e,t)+"="+m(o,t)}).filter(function(r){return r.length>0}).join("&")},exports.parseUrl=function(r,t){return{url:v(r).split("?")[0]||"",query:O(g(r),t)}},exports.stringifyUrl=function(r,t){var e=v(r.url).split("?")[0]||"",n=exports.extract(r.url),o=exports.parse(n),a=j(r.url),i=Object.assign(o,r.query),u=exports.stringify(i,t);return u&&(u="?".concat(u)),"".concat(e).concat(u).concat(a)};
},{"strict-uri-encode":"A2is","decode-uri-component":"pWxZ","split-on-first":"t7Jq"}],"ubNH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setPageContext=exports.getQueryParams=exports.getPageContext=exports.unwatchPageContext=exports.watchPageContext=void 0;var e=require("../utils"),t=n(require("query-string"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var o={context:null,queryParams:{}},a=(0,e.createState)(o),u=a.watch,s=a.unwatch,c=a.get,i=a.set,p=u;exports.watchPageContext=p;var f=s;exports.unwatchPageContext=f;var x=function(){var e;return null===(e=c())||void 0===e?void 0:e.context};exports.getPageContext=x;var g=function(){return c().queryParams};exports.getQueryParams=g;var P=function(e){return i(function(r){r.context=e,r.queryParams=t.parse(e.querystring)})};exports.setPageContext=P;
},{"../utils":"s2T4","query-string":"FvpG"}],"MYZF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FavoriteButton=o;var e=require("@bikeshaving/crank"),t=require("../../services/eventService"),r=function(e,t){var r,n,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,n=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(i){a=[6,i],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(o){var a,l,i,u,s,c,f,b,p=this,v=o.slug,h=o.favoritesCount,y=o.favorited;return r(this,function(r){switch(r.label){case 0:a=function(e){e.preventDefault(),p.dispatchEvent((0,t.favoritePostEvent)({slug:v}))},l=function(e){e.preventDefault(),p.dispatchEvent((0,t.unfavoritePostEvent)({slug:v}))},r.label=1;case 1:r.trys.push([1,6,7,8]),i=n(this),u=i.next(),r.label=2;case 2:return u.done?[3,5]:(b=u.value,y=b.favorited,h=b.favoritesCount,[4,(0,e.createElement)(e.Fragment,null,y&&(0,e.createElement)("button",{type:"button",class:"btn btn-sm pull-xs-right btn-primary",onclick:l},(0,e.createElement)("i",{class:"ion-heart"})," ",h),!y&&(0,e.createElement)("button",{type:"button",class:"btn btn-sm pull-xs-right btn-outline-primary",onclick:a},(0,e.createElement)("i",{class:"ion-heart"})," ",h))]);case 3:r.sent(),r.label=4;case 4:return u=i.next(),[3,2];case 5:return[3,8];case 6:return s=r.sent(),c={error:s},[3,8];case 7:try{u&&!u.done&&(f=i.return)&&f.call(i)}finally{if(c)throw c.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../services/eventService":"fkvO"}],"KAtv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unfavoritePost=exports.favoritePost=void 0;var e=require("../state/userState"),t=function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}u((n=n.apply(e,t||[])).next())})},r=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(a){s=[6,a],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},n=function(n){return t(void 0,void 0,Promise,function(){var t,o,s;return r(this,function(r){switch(r.label){case 0:return t=(0,e.getUser)(),[4,fetch("https://conduit.productionready.io/api/articles/"+n.slug+"/favorite",{method:"POST",mode:"cors",headers:{Authorization:"Token "+t.token}})];case 1:return[4,(o=r.sent()).json()];case 2:return s=r.sent(),[2,{hasErrors:200!==o.status,response:s}]}})})};exports.favoritePost=n;var o=function(n){return t(void 0,void 0,Promise,function(){var t,o,s;return r(this,function(r){switch(r.label){case 0:return t=(0,e.getUser)(),[4,fetch("https://conduit.productionready.io/api/articles/"+n.slug+"/favorite",{method:"DELETE",mode:"cors",headers:{Authorization:"Token "+t.token}})];case 1:return[4,(o=r.sent()).json()];case 2:return s=r.sent(),[2,{hasErrors:200!==o.status,response:s}]}})})};exports.unfavoritePost=o;
},{"../state/userState":"qsQo"}],"N6mc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArticleList=c;var e=require("@bikeshaving/crank"),t=require("../screens/home/FavoriteButton"),r=require("../services/eventService"),n=require("../services/favoriteService"),a=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}},i=function(e){return this instanceof i?(this.v=e,this):new i(e)},s=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||u(e,t)})})}function u(e,t){try{(r=a[e](t)).value instanceof i?Promise.resolve(r.value.v).then(l,c):f(o[0][2],r)}catch(n){f(o[0][3],n)}var r}function l(e){u("next",e)}function c(e){u("throw",e)}function f(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};function c(u){var c=u.articles;return s(this,arguments,function(){var s,u,f,v,h,y,p=this;return a(this,function(a){switch(a.label){case 0:s=c,this.addEventListener.apply(this,l((0,r.favoritePostListener)(function(e){(0,n.favoritePost)(e);var t=s.find(function(t){return t.slug===e.slug});t.favorited=!0,t.favoritesCount++,p.refresh()}))),this.addEventListener.apply(this,l((0,r.unfavoritePostListener)(function(e){(0,n.unfavoritePost)(e);var t=s.find(function(t){return t.slug===e.slug});t.favorited=!1,t.favoritesCount--,p.refresh()}))),a.label=1;case 1:a.trys.push([1,8,9,14]),u=o(this),a.label=2;case 2:return[4,i(u.next())];case 3:return(f=a.sent()).done?[3,7]:(c=f.value.articles,s!==c&&(s=c),[4,i(s.map(function(r){return(0,e.createElement)("div",{class:"article-preview","crank-key":r.slug},(0,e.createElement)("div",{class:"article-meta"},(0,e.createElement)("a",{href:"/profile/"+r.author.username},(0,e.createElement)("img",{src:r.author.image})),(0,e.createElement)("div",{class:"info"},(0,e.createElement)("a",{href:"/profile/"+r.author.username,class:"author"},r.author.username),(0,e.createElement)("span",{class:"date",title:r.createdAt},new Date(r.createdAt).toDateString())),(0,e.createElement)(t.FavoriteButton,{slug:r.slug,favoritesCount:r.favoritesCount,favorited:r.favorited})),(0,e.createElement)("a",{href:"/article/"+r.slug,class:"preview-link"},(0,e.createElement)("h1",null,r.title),(0,e.createElement)("p",null,r.description),(0,e.createElement)("span",null,"Read more..."),(0,e.createElement)("ul",{class:"tag-list"},r.tagList.map(function(t){return(0,e.createElement)("li",{class:"tag-default tag-pill tag-outline","crank-key":t},t)}))))}))]);case 4:return[4,a.sent()];case 5:a.sent(),a.label=6;case 6:return[3,2];case 7:return[3,14];case 8:return v=a.sent(),h={error:v},[3,14];case 9:return a.trys.push([9,,12,13]),f&&!f.done&&(y=u.return)?[4,i(y.call(u))]:[3,11];case 10:a.sent(),a.label=11;case 11:return[3,13];case 12:if(h)throw h.error;return[7];case 13:return[7];case 14:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../screens/home/FavoriteButton":"MYZF","../services/eventService":"fkvO","../services/favoriteService":"KAtv"}],"v5Vp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArticleFeed=f;var e=require("@bikeshaving/crank"),t=l(require("classnames")),r=require("../services/eventService"),n=require("../state/pageContextState"),a=require("./ArticleList");function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t){var r,n,a,l,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,n=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(c){l=[6,c],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){return+(0,n.getQueryParams)().offset||0},u=function(){return+(0,n.getQueryParams)().limit||10},o=function(){return(0,n.getQueryParams)().tag||void 0};function f(n){var l,s,u,o,f,p,b,d,v=this,h=n.articles,m=n.prevDisabled,y=n.nextDisabled;return i(this,function(n){switch(n.label){case 0:l=function(e){e.preventDefault(),v.dispatchEvent((0,r.prevPageEvent)())},s=function(e){e.preventDefault(),v.dispatchEvent((0,r.nextPageEvent)())},n.label=1;case 1:n.trys.push([1,6,7,8]),u=c(this),o=u.next(),n.label=2;case 2:return o.done?[3,5]:(d=o.value,h=d.articles,m=d.prevDisabled,y=d.nextDisabled,[4,(0,e.createElement)(e.Fragment,null,0===h.length&&(0,e.createElement)("div",{class:"article-preview"},(0,e.createElement)("em",null,"None found.")),h.length>0&&(0,e.createElement)(a.ArticleList,{articles:h}),(0,e.createElement)("ul",{class:"pagination"},(0,e.createElement)("li",{class:(0,t.default)("page-item",{disabled:m})},(0,e.createElement)("a",{class:"page-link",href:"",onclick:l},"Previous")),(0,e.createElement)("li",{class:(0,t.default)("page-item",{disabled:y})},(0,e.createElement)("a",{class:"page-link",href:"",onclick:s},"Next"))))]);case 3:n.sent(),n.label=4;case 4:return o=u.next(),[3,2];case 5:return[3,8];case 6:return f=n.sent(),p={error:f},[3,8];case 7:try{o&&!o.done&&(b=u.return)&&b.call(u)}finally{if(p)throw p.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","classnames":"qb7c","../services/eventService":"fkvO","../state/pageContextState":"ubNH","./ArticleList":"N6mc"}],"n69M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFeedArticles=void 0;var e=n(require("query-string")),t=require("../state/userState");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var o=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function u(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(u,a)}c((n=n.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=function(r,n){return void 0===n&&(n=!1),o(void 0,void 0,Promise,function(){var o,u,a,c,s;return i(this,function(i){switch(i.label){case 0:return o={},(0,t.isLoggedIn)()&&(u=(0,t.getUser)(),o={Authorization:"Token "+u.token}),a=e.stringify(r),[4,fetch("https://conduit.productionready.io/api/articles"+(n?"/feed":"")+"?"+a,{method:"GET",mode:"cors",headers:o})];case 1:return[4,(c=i.sent()).json()];case 2:return s=i.sent(),[2,{hasErrors:200!==c.status,response:s}]}})})};exports.getFeedArticles=u;
},{"query-string":"FvpG","../state/userState":"qsQo"}],"MbzM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HomeFeedContent=g;var e=require("@bikeshaving/crank"),t=c(require("page")),r=l(require("query-string")),n=require("../../components"),o=require("../../components/ArticleFeed"),a=require("../../services/eventService"),i=require("../../services/feedService"),u=require("../../state/pageContextState");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},p=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}},d=function(e){return this instanceof d?(this.v=e,this):new d(e)},v=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||u(e,t)})})}function u(e,t){try{(r=o[e](t)).value instanceof d?Promise.resolve(r.value.v).then(s,l):c(a[0][2],r)}catch(n){c(a[0][3],n)}var r}function s(e){u("next",e)}function l(e){u("throw",e)}function c(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}},h=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},b=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e};function g(s){return v(this,arguments,function(){var s,l,c,v,h,g,m,w,x,P,S,E,O,j,_,q,k,D,I,F;return y(this,function(y){switch(y.label){case 0:s=(0,u.getQueryParams)(),l=s.feed,c=void 0===l?"global":l,v=s.tag,h=void 0===v?"":v,g=s.limit,m=void 0===g?"10":g,w=s.offset,x=+m,P=+(void 0===w?"0":w),(0,u.watchPageContext)(function(){var e,t,r,n,o;t=(e=(0,u.getQueryParams)()).feed,c=void 0===t?"global":t,r=e.tag,h=void 0===r?"":r,n=e.limit,m=void 0===n?"10":n,o=e.offset,x=+m,P=+(void 0===o?"0":o)}),this.addEventListener.apply(this,b((0,a.prevPageListener)(function(){P=Math.max(0,P-=x);var e=(0,u.getPageContext)().pathname,n=f(f({},(0,u.getQueryParams)()),{offset:P});(0,t.default)(e+"?"+r.stringify(n))}))),this.addEventListener.apply(this,b((0,a.nextPageListener)(function(){P+=x;var e=(0,u.getPageContext)().pathname,n=f(f({},(0,u.getQueryParams)()),{offset:P});(0,t.default)(e+"?"+r.stringify(n))}))),y.label=1;case 1:y.trys.push([1,11,12,17]),S=p(this),y.label=2;case 2:return[4,d(S.next())];case 3:return(E=y.sent()).done?[3,10]:(E.value,[4,d((0,e.createElement)("div",{style:"display:flex; justify-content:center; margin:50px;"},(0,e.createElement)(n.LoadingIndicator,null)))]);case 4:return[4,y.sent()];case 5:return y.sent(),[4,d((0,i.getFeedArticles)({tag:h,limit:x,offset:P},"your"===c))];case 6:if((O=y.sent()).hasErrors)throw new Error("Error getting feed.");return j=null===(l=O.response)||void 0===l?void 0:l.articles,_=null===(v=O.response)||void 0===v?void 0:v.articlesCount,q=0===P,k=P+x>=_,[4,d((0,e.createElement)(e.Fragment,null,!h&&"your"===c&&(0,e.createElement)(o.ArticleFeed,f({},{articles:j,prevDisabled:q,nextDisabled:k})),!h&&"global"===c&&(0,e.createElement)(o.ArticleFeed,f({},{articles:j,prevDisabled:q,nextDisabled:k})),h&&(0,e.createElement)(o.ArticleFeed,f({},{articles:j,prevDisabled:q,nextDisabled:k}))))];case 7:return[4,y.sent()];case 8:y.sent(),y.label=9;case 9:return[3,2];case 10:return[3,17];case 11:return D=y.sent(),I={error:D},[3,17];case 12:return y.trys.push([12,,15,16]),E&&!E.done&&(F=S.return)?[4,d(F.call(S))]:[3,14];case 13:y.sent(),y.label=14;case 14:return[3,16];case 15:if(I)throw I.error;return[7];case 16:return[7];case 17:return[2]}})})}
},{"@bikeshaving/crank":"k82I","page":"bUEv","query-string":"FvpG","../../components":"iVTS","../../components/ArticleFeed":"v5Vp","../../services/eventService":"fkvO","../../services/feedService":"n69M","../../state/pageContextState":"ubNH"}],"NQ9r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HomeFeeds=u;var e=require("@bikeshaving/crank"),t=l(require("classnames")),r=require("../../state/pageContextState"),n=require("../../state/userState"),a=require("./HomeFeedContent");function l(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t){var r,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(i){l=[6,i],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function u(l){var u,c,s,f,d,v,b,m,p,y;return o(this,function(l){switch(l.label){case 0:u=(0,r.getQueryParams)(),c=u.feed,s=void 0===c?"global":c,f=u.tag,d=void 0===f?"":f,(0,r.watchPageContext)(function(){var e,t,n;t=(e=(0,r.getQueryParams)()).feed,s=void 0===t?"global":t,n=e.tag,d=void 0===n?"":n}),l.label=1;case 1:l.trys.push([1,6,7,8]),v=i(this),b=v.next(),l.label=2;case 2:return b.done?[3,5]:(b.value,[4,(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{class:"feed-toggle"},(0,e.createElement)("ul",{class:"nav nav-pills outline-active"},(0,n.isLoggedIn)()&&(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,t.default)("nav-link",{active:"your"===s}),href:"/?feed=your"},"Your Feed")),(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,t.default)("nav-link",{active:!d&&"global"===s}),href:"/?feed=global"},"Global Feed")),d&&(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:"nav-link active",href:"/?tag="+d,onclick:function(e){return e.preventDefault()}},"#",d)))),(0,e.createElement)(a.HomeFeedContent,null))]);case 3:l.sent(),l.label=4;case 4:return b=v.next(),[3,2];case 5:return[3,8];case 6:return m=l.sent(),p={error:m},[3,8];case 7:try{b&&!b.done&&(y=v.return)&&y.call(v)}finally{if(p)throw p.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","classnames":"qb7c","../../state/pageContextState":"ubNH","../../state/userState":"qsQo","./HomeFeedContent":"MbzM"}],"GW5Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.popularTags=void 0;var e=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function u(e){try{c(r.next(e))}catch(t){a(t)}}function i(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,i)}c((r=r.apply(e,t||[])).next())})},t=function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(i){a=[6,i],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},n=function(){return e(void 0,void 0,Promise,function(){var e,n;return t(this,function(t){switch(t.label){case 0:return[4,fetch("https://conduit.productionready.io/api/tags",{method:"GET",mode:"cors"})];case 1:return[4,(e=t.sent()).json()];case 2:return n=t.sent(),[2,{hasErrors:200!==e.status,response:n}]}})})};exports.popularTags=n;
},{}],"XafL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sidebar=c;var e=require("@bikeshaving/crank"),t=require("../../services/tagService"),r=require("../../components"),n=require("../../state/pageContextState"),a=o(require("classnames"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(u){o=[6,u],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=function(e){return this instanceof u?(this.v=e,this):new u(e)},i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}},l=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||i(e,t)})})}function i(e,t){try{(r=a[e](t)).value instanceof u?Promise.resolve(r.value.v).then(l,c):f(o[0][2],r)}catch(n){f(o[0][3],n)}var r}function l(e){i("next",e)}function c(e){i("throw",e)}function f(e,t){e(t),o.shift(),o.length&&i(o[0][0],o[0][1])}};function c(o){return l(this,arguments,function(){var o,l,c,f,p,h,y,b=this;return s(this,function(s){switch(s.label){case 0:return o=(0,n.getQueryParams)().tag,(0,n.watchPageContext)(function(){o=(0,n.getQueryParams)().tag,b.refresh()}),[4,u((0,e.createElement)("div",{class:"sidebar"},(0,e.createElement)("p",null,"Popular Tags"),(0,e.createElement)("div",{style:"display:flex; justify-content:center; margin:20px;"},(0,e.createElement)(r.LoadingIndicator,null))))];case 1:return[4,s.sent()];case 2:return s.sent(),[4,u((0,t.popularTags)())];case 3:if((l=s.sent()).hasErrors)throw new Error("Error getting popular tags.");s.label=4;case 4:s.trys.push([4,11,12,17]),c=i(this),s.label=5;case 5:return[4,u(c.next())];case 6:return(f=s.sent()).done?[3,10]:(f.value,[4,u((0,e.createElement)("div",{class:"sidebar"},(0,e.createElement)("p",null,"Popular Tags"),(0,e.createElement)("div",{class:"tag-list"},null===(f=l.response)||void 0===f?void 0:f.tags.map(function(t){return(0,e.createElement)("a",{href:"/?tag="+t,class:(0,a.default)("tag-pill","tag-default",{"tag-primary":t===o})},t)}))))]);case 7:return[4,s.sent()];case 8:s.sent(),s.label=9;case 9:return[3,5];case 10:return[3,17];case 11:return p=s.sent(),h={error:p},[3,17];case 12:return s.trys.push([12,,15,16]),f&&!f.done&&(y=c.return)?[4,u(y.call(c))]:[3,14];case 13:s.sent(),s.label=14;case 14:return[3,16];case 15:if(h)throw h.error;return[7];case 16:return[7];case 17:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../../services/tagService":"GW5Q","../../components":"iVTS","../../state/pageContextState":"ubNH","classnames":"qb7c"}],"ixE3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HomeScreen=l;var e=require("@bikeshaving/crank"),r=require("../../components"),t=require("./Banner"),n=require("./HomeFeeds"),a=require("./Sidebar");function l(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.Navbar,{active:"home"}),(0,e.createElement)("div",{class:"home-page"},(0,e.createElement)(t.Banner,null),(0,e.createElement)("div",{class:"container page"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-md-9"},(0,e.createElement)(n.HomeFeeds,null)),(0,e.createElement)("div",{class:"col-md-3"},(0,e.createElement)(a.Sidebar,null))))),(0,e.createElement)(r.Footer,null))}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","./Banner":"BBjb","./HomeFeeds":"NQ9r","./Sidebar":"XafL"}],"mRs3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./HomeScreen");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./HomeScreen":"ixE3"}],"V8SH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateSettings=exports.logout=exports.login=exports.register=void 0;var e=require("../state/userState"),t=function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{a(n.next(e))}catch(t){s(t)}}function u(e){try{a(n.throw(e))}catch(t){s(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,u)}a((n=n.apply(e,t||[])).next())})},r=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(u){s=[6,u],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},n=function(e){return t(void 0,void 0,Promise,function(){var t,n;return r(this,function(r){switch(r.label){case 0:return[4,fetch("https://conduit.productionready.io/api/users",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})})];case 1:return[4,(t=r.sent()).json()];case 2:return n=r.sent(),[2,{hasErrors:200!==t.status,response:n}]}})})};exports.register=n;var o=function(e){return t(void 0,void 0,Promise,function(){var t,n;return r(this,function(r){switch(r.label){case 0:return[4,fetch("https://conduit.productionready.io/api/users/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})})];case 1:return[4,(t=r.sent()).json()];case 2:return n=r.sent(),[2,{hasErrors:200!==t.status,response:n}]}})})};exports.login=o;var s=function(){(0,e.setUser)(null)};exports.logout=s;var i=function(n){return t(void 0,void 0,Promise,function(){var t,o,s;return r(this,function(r){switch(r.label){case 0:return t=(0,e.getUser)(),n.password||delete n.password,[4,fetch("https://conduit.productionready.io/api/user",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+t.token},body:JSON.stringify({user:n})})];case 1:return[4,(o=r.sent()).json()];case 2:return s=r.sent(),[2,{hasErrors:200!==o.status,response:s}]}})})};exports.updateSettings=i;
},{"../state/userState":"qsQo"}],"da6d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RegistrationForm=c;var e=require("@bikeshaving/crank"),r=require("../../services/userService"),t=require("../../components"),n=s(require("page")),a=require("../../state/userState");function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e,r,t,n){return new(t||(t=Promise))(function(a,s){function o(e){try{c(n.next(e))}catch(r){s(r)}}function l(e){try{c(n.throw(e))}catch(r){s(r)}}function c(e){var r;e.done?a(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(o,l)}c((n=n.apply(e,r||[])).next())})},l=function(e,r){var t,n,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=r.call(e,o)}catch(l){s=[6,l],n=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function c(){var s,c,i,u,f,p=this;return l(this,function(m){switch(m.label){case 0:s=!1,i=(c={hasErrors:!1,response:{}}).hasErrors,u=c.response,f=function(e){e.preventDefault(),o(p,void 0,void 0,function(){var t,o;return l(this,function(l){switch(l.label){case 0:return s=!0,i=!1,u={},this.refresh(),t=new FormData(e.target),[4,(0,r.register)({username:t.get("username"),email:t.get("email"),password:t.get("password")})];case 1:return o=l.sent(),i=o.hasErrors,u=o.response,i?(s=!1,this.refresh()):((0,a.setUser)(u.user),(0,n.default)("/")),[2]}})})},m.label=1;case 1:return[4,(0,e.createElement)("div",{class:"auth-page"},(0,e.createElement)("div",{class:"container page"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-md-6 offset-md-3 col-xs-12"},(0,e.createElement)("h1",{class:"text-xs-center"},"Sign up"),(0,e.createElement)("p",{class:"text-xs-center"},(0,e.createElement)("a",{href:"/login"},"Have an account?")),i&&(0,e.createElement)(t.Errors,{errors:u.errors}),(0,e.createElement)("form",{onsubmit:f},(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"text",name:"username",placeholder:"Your Name"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"email",name:"email",placeholder:"Email"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"password",name:"password",placeholder:"Password"})),(0,e.createElement)("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:s},"Sign up"))))))];case 2:return m.sent(),[3,1];case 3:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../services/userService":"V8SH","../../components":"iVTS","page":"bUEv","../../state/userState":"qsQo"}],"VuvE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RegisterScreen=n;var e=require("@bikeshaving/crank"),r=require("../../components"),t=require("./RegistrationForm");function n(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.Navbar,{active:"register"}),(0,e.createElement)(t.RegistrationForm,null),(0,e.createElement)(r.Footer,null))}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","./RegistrationForm":"da6d"}],"lBz8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./RegisterScreen");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./RegisterScreen":"VuvE"}],"J7c1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoginForm=c;var e=require("@bikeshaving/crank"),r=require("../../services/userService"),t=require("../../components"),n=require("../../state/userState"),a=s(require("page"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e,r,t,n){return new(t||(t=Promise))(function(a,s){function o(e){try{c(n.next(e))}catch(r){s(r)}}function l(e){try{c(n.throw(e))}catch(r){s(r)}}function c(e){var r;e.done?a(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(o,l)}c((n=n.apply(e,r||[])).next())})},l=function(e,r){var t,n,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=r.call(e,o)}catch(l){s=[6,l],n=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function c(){var s,c,i,u,f,p=this;return l(this,function(m){switch(m.label){case 0:s=!1,i=(c={hasErrors:!1,response:{}}).hasErrors,u=c.response,f=function(e){e.preventDefault(),o(p,void 0,void 0,function(){var t,o;return l(this,function(l){switch(l.label){case 0:return s=!0,i=!1,u={},this.refresh(),t=new FormData(e.target),[4,(0,r.login)({email:t.get("email"),password:t.get("password")})];case 1:return o=l.sent(),i=o.hasErrors,u=o.response,i?(s=!1,this.refresh()):((0,n.setUser)(u.user),(0,a.default)("/")),[2]}})})},m.label=1;case 1:return[4,(0,e.createElement)("div",{class:"auth-page"},(0,e.createElement)("div",{class:"container page"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-md-6 offset-md-3 col-xs-12"},(0,e.createElement)("h1",{class:"text-xs-center"},"Sign in"),(0,e.createElement)("p",{class:"text-xs-center"},(0,e.createElement)("a",{href:"/register"},"Need an account?")),i&&(0,e.createElement)(t.Errors,{errors:u.errors}),(0,e.createElement)("form",{onsubmit:f},(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"email",name:"email",placeholder:"Email"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"password",name:"password",placeholder:"Password"})),(0,e.createElement)("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:s},"Sign in"))))))];case 2:return m.sent(),[3,1];case 3:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../services/userService":"V8SH","../../components":"iVTS","../../state/userState":"qsQo","page":"bUEv"}],"IF1A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoginScreen=t;var e=require("@bikeshaving/crank"),r=require("../../components"),n=require("./LoginForm");function t(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.Navbar,{active:"login"}),(0,e.createElement)(n.LoginForm,null),(0,e.createElement)(r.Footer,null))}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","./LoginForm":"J7c1"}],"L1xL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./LoginScreen");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./LoginScreen":"IF1A"}],"X6Ui":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsForm=o;var e=require("@bikeshaving/crank"),t=require("../../components"),r=require("../../state/userState"),n=require("../../services/userService"),a=function(e,t,r,n){return new(r||(r=Promise))(function(a,l){function o(e){try{c(n.next(e))}catch(t){l(t)}}function s(e){try{c(n.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(s){l=[6,s],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};function o(){var o,s,c,i,u,f=this;return l(this,function(m){switch(m.label){case 0:o=(0,r.getUser)(),s=!1,c=!1,u=function(e){e.preventDefault(),a(f,void 0,void 0,function(){var t,a;return l(this,function(l){switch(l.label){case 0:return s=!0,c=!1,i=void 0,this.refresh(),t=new FormData(e.target),[4,(0,n.updateSettings)({image:t.get("image"),username:t.get("username"),bio:t.get("bio"),email:t.get("email"),password:t.get("password")})];case 1:return a=l.sent(),s=!1,c=a.hasErrors,i=a.response,c||(0,r.setUser)(i.user),this.refresh(),[2]}})})},m.label=1;case 1:return[4,(0,e.createElement)("div",{class:"settings-page"},(0,e.createElement)("div",{class:"container page"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-md-6 offset-md-3 col-xs-12"},(0,e.createElement)("h1",{class:"text-xs-center"},"Your Settings"),!c&&i&&(0,e.createElement)("div",{class:"alert alert-success"},"Settings saved."),c&&i&&(0,e.createElement)(t.Errors,{errors:i.errors}),(0,e.createElement)("form",{onsubmit:u},(0,e.createElement)("fieldset",null,(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control",type:"text",name:"image",defaultValue:o.image,placeholder:"URL of profile picture"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"text",name:"username",defaultValue:o.username,placeholder:"Your Name"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("textarea",{class:"form-control form-control-lg",rows:"8",name:"bio",defaultValue:o.bio,placeholder:"Short bio about you"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"text",name:"email",defaultValue:o.email,placeholder:"Email"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{class:"form-control form-control-lg",type:"password",name:"password",placeholder:"Password"})),(0,e.createElement)("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:s},"Update Settings")))))))];case 2:return m.sent(),[3,1];case 3:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","../../state/userState":"qsQo","../../services/userService":"V8SH"}],"E0iq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsScreen=n;var e=require("@bikeshaving/crank"),t=require("../../components"),r=require("./SettingsForm");function n(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.Navbar,{active:"settings"}),(0,e.createElement)(r.SettingsForm,null),(0,e.createElement)(t.Footer,null))}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","./SettingsForm":"X6Ui"}],"yZmL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./SettingsScreen");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}})});
},{"./SettingsScreen":"E0iq"}],"GatF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.editArticle=exports.deleteArticle=exports.getArticle=exports.publish=void 0;var e=require("../state/userState"),t=function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}u((n=n.apply(e,t||[])).next())})},r=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(a){s=[6,a],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},n=function(n){return t(void 0,void 0,Promise,function(){var t,o,s;return r(this,function(r){switch(r.label){case 0:return t=(0,e.getUser)(),[4,fetch("https://conduit.productionready.io/api/articles",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+t.token},body:JSON.stringify({article:n})})];case 1:return[4,(o=r.sent()).json()];case 2:return s=r.sent(),[2,{hasErrors:200!==o.status,response:s}]}})})};exports.publish=n;var o=function(n){return t(void 0,void 0,Promise,function(){var t,o,s,i;return r(this,function(r){switch(r.label){case 0:return t={},(0,e.isLoggedIn)()&&(o=(0,e.getUser)(),t={Authorization:"Token "+o.token}),[4,fetch("https://conduit.productionready.io/api/articles/"+n.slug,{method:"GET",mode:"cors",headers:t})];case 1:return[4,(s=r.sent()).json()];case 2:return i=r.sent(),[2,{hasErrors:200!==s.status,response:i}]}})})};exports.getArticle=o;var s=function(n){return t(void 0,void 0,Promise,function(){var t,o,s,i;return r(this,function(r){switch(r.label){case 0:return t={},(0,e.isLoggedIn)()&&(o=(0,e.getUser)(),t={Authorization:"Token "+o.token}),[4,fetch("https://conduit.productionready.io/api/articles/"+n.slug,{method:"DELETE",mode:"cors",headers:t})];case 1:return[4,(s=r.sent()).json()];case 2:return i=r.sent(),[2,{hasErrors:200!==s.status,response:i}]}})})};exports.deleteArticle=s;var i=function(n){return t(void 0,void 0,Promise,function(){var t,o,s,i;return r(this,function(r){switch(r.label){case 0:return t=(0,e.getUser)(),o=n.slug,delete n.slug,[4,fetch("https://conduit.productionready.io/api/articles/"+o,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+t.token},body:JSON.stringify({article:n})})];case 1:return[4,(s=r.sent()).json()];case 2:return i=r.sent(),[2,{hasErrors:200!==s.status,response:i}]}})})};exports.editArticle=i;
},{"../state/userState":"qsQo"}],"k4nx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateArticleScreen=i;var e=require("@bikeshaving/crank"),t=require("../../services/articleService"),r=require("../../components"),n=require("../../services/eventService"),a=function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function l(e){try{s(n.next(e))}catch(t){o(t)}}function c(e){try{s(n.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(l,c)}s((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},l=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}},c=function(e){return this instanceof c?(this.v=e,this):new c(e)},s=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n;function l(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=a[e](t)).value instanceof c?Promise.resolve(r.value.v).then(i,u):f(o[0][2],r)}catch(n){f(o[0][3],n)}var r}function i(e){s("next",e)}function u(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}};function i(i){var u=i.hide;return s(this,arguments,function(){var s,i,f,m,d,h,p,y,v,b=this;return o(this,function(E){switch(E.label){case 0:s=!1,i=!1,m=function(e){return a(b,void 0,void 0,function(){var r,a,l;return o(this,function(o){switch(o.label){case 0:return e.preventDefault(),s=!0,i=!1,f=void 0,this.refresh(),r=new FormData(e.target),[4,(0,t.publish)({title:r.get("title"),description:r.get("description"),body:r.get("body"),tagList:r.get("tags").split(" ")})];case 1:return a=o.sent(),s=!1,i=a.hasErrors,f=a.response,i||(l=f.article,this.dispatchEvent((0,n.articleCreatedEvent)({article:l}))),this.refresh(),[2]}})})},E.label=1;case 1:E.trys.push([1,8,9,14]),d=l(this),E.label=2;case 2:return[4,c(d.next())];case 3:return(h=E.sent()).done?[3,7]:(u=h.value.hide,[4,c((0,e.createElement)("form",{onsubmit:m},(0,e.createElement)("div",{class:"modal",style:"display:block; background-color:rgba(0,0,0,0.5);"},(0,e.createElement)("div",{class:"modal-dialog modal-lg"},(0,e.createElement)("div",{class:"modal-content"},(0,e.createElement)("div",{class:"modal-header"},(0,e.createElement)("h5",{class:"modal-title"},"New Post")),(0,e.createElement)("div",{class:"modal-body"},(0,e.createElement)("div",{class:"editor-page"},(0,e.createElement)("div",{class:"container page"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-md-10 offset-md-1 col-xs-12"},i&&f&&(0,e.createElement)(r.Errors,{errors:f.errors}),(0,e.createElement)("fieldset",null,(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{type:"text",class:"form-control form-control-lg",name:"title",placeholder:"Article Title"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{type:"text",class:"form-control",name:"description",placeholder:"What's this article about?"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("textarea",{class:"form-control",rows:"8",name:"body",placeholder:"Write your article (in markdown)"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{type:"text",class:"form-control",name:"tags",placeholder:"Enter tags"}),(0,e.createElement)("div",{class:"tag-list"})))))))),(0,e.createElement)("div",{class:"modal-footer"},(0,e.createElement)("button",{type:"button",class:"btn btn-secondary",style:"margin-right:0.5rem;",onclick:u},"Close"),(0,e.createElement)("button",{class:"btn btn-primary",disabled:s},"Publish Article")))))))]);case 4:return[4,E.sent()];case 5:E.sent(),E.label=6;case 6:return[3,2];case 7:return[3,14];case 8:return p=E.sent(),y={error:p},[3,14];case 9:return E.trys.push([9,,12,13]),h&&!h.done&&(v=d.return)?[4,c(v.call(d))]:[3,11];case 10:E.sent(),E.label=11;case 11:return[3,13];case 12:if(y)throw y.error;return[7];case 13:return[7];case 14:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../../services/articleService":"GatF","../../components":"iVTS","../../services/eventService":"fkvO"}],"CYJc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./CreateArticleScreen");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./CreateArticleScreen":"k4nx"}],"nYHZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./home");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./register");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./login");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var n=require("./settings");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var u=require("./create-article");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});
},{"./home":"mRs3","./register":"lBz8","./login":"L1xL","./settings":"yZmL","./create-article":"CYJc"}],"tt01":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unfollowUser=exports.followUser=void 0;var e=require("../state/userState"),t=function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function u(e){try{i(n.next(e))}catch(t){s(t)}}function a(e){try{i(n.throw(e))}catch(t){s(t)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(u,a)}i((n=n.apply(e,t||[])).next())})},r=function(e,t){var r,n,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,n=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){u=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){u.label=s[1];break}if(6===s[0]&&u.label<o[1]){u.label=o[1],o=s;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(s);break}o[2]&&u.ops.pop(),u.trys.pop();continue}s=t.call(e,u)}catch(a){s=[6,a],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},n=function(n){var o=n.username;return t(void 0,void 0,Promise,function(){var t,n,s;return r(this,function(r){switch(r.label){case 0:return t=(0,e.getUser)(),[4,fetch("https://conduit.productionready.io/api/profiles/"+o+"/follow",{method:"POST",mode:"cors",headers:{Authorization:"Token "+t.token}})];case 1:return[4,(n=r.sent()).json()];case 2:return s=r.sent(),[2,{hasErrors:200!==n.status,response:s}]}})})};exports.followUser=n;var o=function(n){var o=n.username;return t(void 0,void 0,Promise,function(){var t,n,s;return r(this,function(r){switch(r.label){case 0:return t=(0,e.getUser)(),[4,fetch("https://conduit.productionready.io/api/profiles/"+o+"/follow",{method:"DELETE",mode:"cors",headers:{Authorization:"Token "+t.token}})];case 1:return[4,(n=r.sent()).json()];case 2:return s=r.sent(),[2,{hasErrors:200!==n.status,response:s}]}})})};exports.unfollowUser=o;
},{"../state/userState":"qsQo"}],"Isjr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FavoritePostButton=o;var e=require("@bikeshaving/crank"),t=require("../../services/eventService"),n=function(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(i){a=[6,i],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(o){var a,l,i,s,u,c,f,b,p=this,v=o.slug,h=o.favorited,y=o.favoritesCount;return n(this,function(n){switch(n.label){case 0:a=function(e){e.preventDefault(),p.dispatchEvent((0,t.favoritePostEvent)({slug:v}))},l=function(e){e.preventDefault(),p.dispatchEvent((0,t.unfavoritePostEvent)({slug:v}))},n.label=1;case 1:n.trys.push([1,6,7,8]),i=r(this),s=i.next(),n.label=2;case 2:return s.done?[3,5]:(b=s.value,h=b.favorited,y=b.favoritesCount,[4,(0,e.createElement)(e.Fragment,null,h&&(0,e.createElement)("button",{type:"button",class:"btn btn-sm btn-primary",onclick:l},(0,e.createElement)("i",{class:"ion-heart"})," Unfavorite Post ",(0,e.createElement)("span",{class:"counter"},"(",y,")")),!h&&(0,e.createElement)("button",{type:"button",class:"btn btn-sm btn-outline-primary",onclick:a},(0,e.createElement)("i",{class:"ion-heart"})," Favorite Post ",(0,e.createElement)("span",{class:"counter"},"(",y,")")))]);case 3:n.sent(),n.label=4;case 4:return s=i.next(),[3,2];case 5:return[3,8];case 6:return u=n.sent(),c={error:u},[3,8];case 7:try{s&&!s.done&&(f=i.return)&&f.call(i)}finally{if(c)throw c.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../services/eventService":"fkvO"}],"BROZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditArticleScreen=i;var e=require("@bikeshaving/crank"),t=require("../../components"),r=require("../../services/articleService"),n=require("../../services/eventService"),a=function(e,t,r,n){return new(r||(r=Promise))(function(a,l){function o(e){try{c(n.next(e))}catch(t){l(t)}}function s(e){try{c(n.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(s){l=[6,s],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},o=function(e){return this instanceof o?(this.v=e,this):new o(e)},s=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}},c=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),l=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){l.push([e,t,r,n])>1||c(e,t)})})}function c(e,t){try{(r=a[e](t)).value instanceof o?Promise.resolve(r.value.v).then(i,u):f(l[0][2],r)}catch(n){f(l[0][3],n)}var r}function i(e){c("next",e)}function u(e){c("throw",e)}function f(e,t){e(t),l.shift(),l.length&&c(l[0][0],l[0][1])}};function i(i){var u=i.slug,f=i.hide;return c(this,arguments,function(){var c,i,d,m,h,p,y,v,b,g,E,w=this;return l(this,function(x){switch(x.label){case 0:return c=!1,i=!1,[4,o((0,r.getArticle)({slug:u}))];case 1:m=x.sent().response.article,h=function(e){return a(w,void 0,void 0,function(){var t,a,o;return l(this,function(l){switch(l.label){case 0:return e.preventDefault(),c=!0,i=!1,d=void 0,this.refresh(),t=new FormData(e.target),[4,(0,r.editArticle)({slug:m.slug,title:t.get("title"),description:t.get("description"),body:t.get("body"),tagList:t.get("tags").split(" ").filter(function(e){return e.length>0})})];case 1:return a=l.sent(),c=!1,i=a.hasErrors,d=a.response,i||(o=d.article,this.dispatchEvent((0,n.articleEditedEvent)({slug:o.slug}))),this.refresh(),[2]}})})},x.label=2;case 2:x.trys.push([2,9,10,15]),p=s(this),x.label=3;case 3:return[4,o(p.next())];case 4:return(y=x.sent()).done?[3,8]:(b=y.value,u=b.slug,f=b.hide,[4,o((0,e.createElement)("form",{onsubmit:h},(0,e.createElement)("div",{class:"modal",style:"display:block; background-color:rgba(0,0,0,0.5);"},(0,e.createElement)("div",{class:"modal-dialog modal-lg"},(0,e.createElement)("div",{class:"modal-content"},(0,e.createElement)("div",{class:"modal-header"},(0,e.createElement)("h5",{class:"modal-title"},"Edit Article")),(0,e.createElement)("div",{class:"modal-body"},(0,e.createElement)("div",{class:"editor-page"},(0,e.createElement)("div",{class:"container page"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-md-10 offset-md-1 col-xs-12"},i&&d&&(0,e.createElement)(t.Errors,{errors:d.errors}),(0,e.createElement)("fieldset",null,(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{type:"text",class:"form-control form-control-lg",name:"title",defaultValue:m.title,placeholder:"Article Title"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{type:"text",class:"form-control",name:"description",defaultValue:m.description,placeholder:"What's this article about?"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("textarea",{class:"form-control",rows:"8",name:"body",defaultValue:m.body,placeholder:"Write your article (in markdown)"})),(0,e.createElement)("fieldset",{class:"form-group"},(0,e.createElement)("input",{type:"text",class:"form-control",name:"tags",defaultValue:m.tagList.join(" "),placeholder:"Enter tags"}),(0,e.createElement)("div",{class:"tag-list"})))))))),(0,e.createElement)("div",{class:"modal-footer"},(0,e.createElement)("button",{type:"button",class:"btn btn-secondary",style:"margin-right:0.5rem;",onclick:f},"Close"),(0,e.createElement)("button",{class:"btn btn-primary",disabled:c},"Save Changes")))))))]);case 5:return[4,x.sent()];case 6:x.sent(),x.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return v=x.sent(),g={error:v},[3,15];case 10:return x.trys.push([10,,13,14]),y&&!y.done&&(E=p.return)?[4,o(E.call(p))]:[3,12];case 11:x.sent(),x.label=12;case 12:return[3,14];case 13:if(g)throw g.error;return[7];case 14:return[7];case 15:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","../../services/articleService":"GatF","../../services/eventService":"fkvO"}],"XeBi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./EditArticleScreen");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./EditArticleScreen":"BROZ"}],"PClj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditArticleButton=a;var e=require("@bikeshaving/crank"),t=require("../edit-article"),r=require("../../services/eventService"),n=function(e,t){var r,n,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&l[0]?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(i){l=[6,i],n=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,l=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=l.next()).done;)a.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}return a},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};function a(o){var a,i,c,u,s=this,f=o.slug;return n(this,function(n){switch(n.label){case 0:a=!1,i=null,c=function(e){e.preventDefault(),a=!0,document.body.classList.add("modal-open"),i=document.createElement("div"),document.body.appendChild(i),s.refresh()},u=function(){a=!1,null==i||i.remove(),document.body.classList.remove("modal-open"),s.refresh()},this.addEventListener.apply(this,l((0,r.articleEditedListener)(function(e){e.slug;u(),location.reload()}))),n.label=1;case 1:return[4,(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onclick:c},(0,e.createElement)("i",{class:"ion-edit"})," Edit Article"),a&&(0,e.createElement)(e.Portal,{root:i},(0,e.createElement)(t.EditArticleScreen,{slug:f,hide:u})))];case 2:return n.sent(),[3,1];case 3:return[2]}})}
},{"@bikeshaving/crank":"k82I","../edit-article":"XeBi","../../services/eventService":"fkvO"}],"zFgo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeleteArticleButton=n;var e=require("@bikeshaving/crank"),t=require("../../services/eventService");function n(n){var r=this,i=n.slug;return(0,e.createElement)("button",{type:"button",class:"btn btn-sm btn-outline-danger",onclick:function(e){e.preventDefault(),r.dispatchEvent((0,t.deleteArticleEvent)({slug:i}))}},(0,e.createElement)("i",{class:"ion-trash-a"})," Delete Article")}
},{"@bikeshaving/crank":"k82I","../../services/eventService":"fkvO"}],"S60A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArticleMeta=i;var e=require("@bikeshaving/crank"),t=require("../../components/FollowUserButton"),r=require("../../state/userState"),n=require("./FavoritePostButton"),a=require("./EditArticleButton"),l=require("./DeleteArticleButton"),o=function(e,t){var r,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function u(l){return function(u){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(u){l=[6,u],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}},u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(i){var s,c,f,m,h,b,p=i.article;return o(this,function(o){switch(o.label){case 0:s=(0,r.getUser)(),o.label=1;case 1:o.trys.push([1,6,7,8]),c=u(this),f=c.next(),o.label=2;case 2:return f.done?[3,5]:(p=f.value.article,[4,(0,e.createElement)("div",{class:"article-meta"},(0,e.createElement)("a",{href:"/profile/"+p.author.username},(0,e.createElement)("img",{src:p.author.image})),(0,e.createElement)("div",{class:"info"},(0,e.createElement)("a",{href:"/profile/"+p.author.username,class:"author"},p.author.username),(0,e.createElement)("span",{class:"date"},new Date(p.createdAt).toDateString())),(null==s?void 0:s.username)!==p.author.username&&(0,r.isLoggedIn)()&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.FollowUserButton,{username:p.author.username,following:p.author.following}),"",(0,e.createElement)(n.FavoritePostButton,{slug:p.slug,favorited:p.favorited,favoritesCount:p.favoritesCount})),(null==s?void 0:s.username)===p.author.username&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.EditArticleButton,{slug:p.slug}),"",(0,e.createElement)(l.DeleteArticleButton,{slug:p.slug})))]);case 3:o.sent(),o.label=4;case 4:return f=c.next(),[3,2];case 5:return[3,8];case 6:return m=o.sent(),h={error:m},[3,8];case 7:try{f&&!f.done&&(b=c.return)&&b.call(c)}finally{if(h)throw h.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../components/FollowUserButton":"UV5u","../../state/userState":"qsQo","./FavoritePostButton":"Isjr","./EditArticleButton":"PClj","./DeleteArticleButton":"zFgo"}],"YkrN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArticleActions=a;var e=require("@bikeshaving/crank"),r=require("./ArticleMeta"),t=function(e,r){var t,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=r.call(e,o)}catch(i){l=[6,i],n=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},n=function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(a){var l,o,i,c,u,s=a.article;return t(this,function(t){switch(t.label){case 0:t.trys.push([0,5,6,7]),l=n(this),o=l.next(),t.label=1;case 1:return o.done?[3,4]:(s=o.value.article,[4,(0,e.createElement)("div",{class:"article-actions"},(0,e.createElement)(r.ArticleMeta,{article:s}))]);case 2:t.sent(),t.label=3;case 3:return o=l.next(),[3,1];case 4:return[3,7];case 5:return i=t.sent(),c={error:i},[3,7];case 6:try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(c)throw c.error}return[7];case 7:return[2]}})}
},{"@bikeshaving/crank":"k82I","./ArticleMeta":"S60A"}],"Fba3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArticleBanner=a;var e=require("@bikeshaving/crank"),r=require("./ArticleMeta"),t=function(e,r){var t,n,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=r.call(e,o)}catch(i){l=[6,i],n=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},n=function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(a){var l,o,i,c,u,s=a.article;return t(this,function(t){switch(t.label){case 0:t.trys.push([0,5,6,7]),l=n(this),o=l.next(),t.label=1;case 1:return o.done?[3,4]:(s=o.value.article,[4,(0,e.createElement)("div",{class:"banner"},(0,e.createElement)("div",{class:"container"},(0,e.createElement)("h1",null,s.title),(0,e.createElement)(r.ArticleMeta,{article:s})))]);case 2:t.sent(),t.label=3;case 3:return o=l.next(),[3,1];case 4:return[3,7];case 5:return i=t.sent(),c={error:i},[3,7];case 6:try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(c)throw c.error}return[7];case 7:return[2]}})}
},{"@bikeshaving/crank":"k82I","./ArticleMeta":"S60A"}],"e3Cr":[function(require,module,exports) {
function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1}}function l(e){module.exports.defaults=e}module.exports={defaults:e(),getDefaults:e,changeDefaults:l};
},{}],"sUTH":[function(require,module,exports) {
var e=/[&<>"']/,r=/[&<>"']/g,t=/[<>"']|&(?!#?\w+;)/,n=/[<>"']|&(?!#?\w+;)/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(e){return a[e]};function o(a,o){if(o){if(e.test(a))return a.replace(r,i)}else if(t.test(a))return a.replace(n,i);return a}var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function u(e){return e.replace(c,function(e,r){return"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""})}var s=/(^|[^\[])\^/g;function l(e,r){e=e.source||e,r=r||"";var t={replace:function(r,n){return n=(n=n.source||n).replace(s,"$1"),e=e.replace(r,n),t},getRegex:function(){return new RegExp(e,r)}};return t}var f=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(e,r,t){if(e){var n;try{n=decodeURIComponent(u(t)).replace(f,"").toLowerCase()}catch(a){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}r&&!p.test(t)&&(t=x(r,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(a){return null}return t}var g={},h=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,m=/^([^:]+:\/*[^/]*)[\s\S]*$/;function x(e,r){g[" "+e]||(h.test(e)?g[" "+e]=e+"/":g[" "+e]=A(e,"/",!0));var t=-1===(e=g[" "+e]).indexOf(":");return"//"===r.substring(0,2)?t?r:e.replace(v,"$1")+r:"/"===r.charAt(0)?t?r:e.replace(m,"$1")+r:e+r}var w={exec:function(){}};function C(e){for(var r,t,n=1;n<arguments.length;n++)for(t in r=arguments[n])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}function b(e,r){var t=e.replace(/\|/g,function(e,r,t){for(var n=!1,a=r;--a>=0&&"\\"===t[a];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(t.length>r)t.splice(r);else for(;t.length<r;)t.push("");for(;n<t.length;n++)t[n]=t[n].trim().replace(/\\\|/g,"|");return t}function A(e,r,t){var n=e.length;if(0===n)return"";for(var a=0;a<n;){var i=e.charAt(n-a-1);if(i!==r||t){if(i===r||!t)break;a++}else a++}return e.substr(0,n-a)}function O(e,r){if(-1===e.indexOf(r[1]))return-1;for(var t=e.length,n=0,a=0;a<t;a++)if("\\"===e[a])a++;else if(e[a]===r[0])n++;else if(e[a]===r[1]&&--n<0)return a;return-1}function $(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}module.exports={escape:o,unescape:u,edit:l,cleanUrl:d,resolveUrl:x,noopTest:w,merge:C,splitCells:b,rtrim:A,findClosingBracket:O,checkSanitizeDeprecation:$};
},{}],"ZrSq":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}var r=require("./defaults.js"),n=r.defaults,l=require("./helpers.js"),a=l.rtrim,s=l.splitCells,c=l.escape,o=l.findClosingBracket;function u(e,t,i){var r=t.href,n=t.title?c(t.title):null;return"!"!==e[0].charAt(0)?{type:"link",raw:i,href:r,title:n,text:e[1]}:{type:"image",raw:i,text:c(e[1]),href:r,title:n}}module.exports=function(){function t(i){e(this,t),this.options=i||n}return i(t,[{key:"space",value:function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}}},{key:"code",value:function(e,t){var i=this.rules.block.code.exec(e);if(i){var r=t[t.length-1];if(r&&"paragraph"===r.type)return t.pop(),r.text+="\n"+i[0].trimRight(),r.raw+="\n"+i[0],r;var n=i[0].replace(/^ {4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?n:a(n,"\n")}}}},{key:"fences",value:function(e){var t=this.rules.block.fences.exec(e);if(t)return{type:"code",raw:t[0],lang:t[2]?t[2].trim():t[2],text:t[3]||""}}},{key:"heading",value:function(e){var t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}}},{key:"nptable",value:function(e){var t=this.rules.block.nptable.exec(e);if(t){var i={type:"table",header:s(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(i.header.length===i.align.length){var r,n=i.align.length;for(r=0;r<n;r++)/^ *-+: *$/.test(i.align[r])?i.align[r]="right":/^ *:-+: *$/.test(i.align[r])?i.align[r]="center":/^ *:-+ *$/.test(i.align[r])?i.align[r]="left":i.align[r]=null;for(n=i.cells.length,r=0;r<n;r++)i.cells[r]=s(i.cells[r],i.header.length);return i}}}},{key:"hr",value:function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}},{key:"blockquote",value:function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:i}}}},{key:"list",value:function(e){var t=this.rules.block.list.exec(e);if(t){for(var i,r,n,l,a,s,c,o=t[0],u=t[2],h=u.length>1,p={type:"list",raw:o,ordered:h,start:h?+u:"",loose:!1,items:[]},f=t[0].match(this.rules.block.item),g=!1,v=f.length,x=0;x<v;x++)o=i=f[x],r=i.length,~(i=i.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(r-=i.length,i=this.options.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+r+"}","gm"),"")),x!==v-1&&(n=this.rules.block.bullet.exec(f[x+1])[0],(u.length>1?1===n.length:n.length>1||this.options.smartLists&&n!==u)&&(l=f.slice(x+1).join("\n"),p.raw=p.raw.substring(0,p.raw.length-l.length),x=v-1)),a=g||/\n\n(?!\s*$)/.test(i),x!==v-1&&(g="\n"===i.charAt(i.length-1),a||(a=g)),a&&(p.loose=!0),c=void 0,(s=/^\[[ xX]\] /.test(i))&&(c=" "!==i[1],i=i.replace(/^\[[ xX]\] +/,"")),p.items.push({raw:o,task:s,checked:c,loose:a,text:i});return p}}},{key:"html",value:function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):c(t[0]):t[0]}}},{key:"def",value:function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}},{key:"table",value:function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:s(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var r,n=i.align.length;for(r=0;r<n;r++)/^ *-+: *$/.test(i.align[r])?i.align[r]="right":/^ *:-+: *$/.test(i.align[r])?i.align[r]="center":/^ *:-+ *$/.test(i.align[r])?i.align[r]="left":i.align[r]=null;for(n=i.cells.length,r=0;r<n;r++)i.cells[r]=s(i.cells[r].replace(/^ *\| *| *\| *$/g,""),i.header.length);return i}}}},{key:"lheading",value:function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}}},{key:"paragraph",value:function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}},{key:"text",value:function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}}},{key:"escape",value:function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:c(t[1])}}},{key:"tag",value:function(e,t,i){var r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!i&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?i=!0:i&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(i=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:i,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):c(r[0]):r[0]}}},{key:"link",value:function(e){var t=this.rules.inline.link.exec(e);if(t){var i=o(t[2],"()");if(i>-1){var r=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,r).trim(),t[3]=""}var n=t[2],l="";if(this.options.pedantic){var a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);a?(n=a[1],l=a[3]):l=""}else l=t[3]?t[3].slice(1,-1):"";return u(t,{href:(n=n.trim().replace(/^<([\s\S]*)>$/,"$1"))?n.replace(this.rules.inline._escapes,"$1"):n,title:l?l.replace(this.rules.inline._escapes,"$1"):l},t[0])}}},{key:"reflink",value:function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var r=(i[2]||i[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var n=i[0].charAt(0);return{type:"text",raw:n,text:n}}return u(i,r,i[0])}}},{key:"strong",value:function(e){var t=this.rules.inline.strong.exec(e);if(t)return{type:"strong",raw:t[0],text:t[4]||t[3]||t[2]||t[1]}}},{key:"em",value:function(e){var t=this.rules.inline.em.exec(e);if(t)return{type:"em",raw:t[0],text:t[6]||t[5]||t[4]||t[3]||t[2]||t[1]}}},{key:"codespan",value:function(e){var t=this.rules.inline.code.exec(e);if(t)return{type:"codespan",raw:t[0],text:c(t[2].trim(),!0)}}},{key:"br",value:function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}},{key:"del",value:function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}}},{key:"autolink",value:function(e,t){var i,r,n=this.rules.inline.autolink.exec(e);if(n)return r="@"===n[2]?"mailto:"+(i=c(this.options.mangle?t(n[1]):n[1])):i=c(n[1]),{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},{key:"url",value:function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var r,n;if("@"===i[2])n="mailto:"+(r=c(this.options.mangle?t(i[0]):i[0]));else{var l;do{l=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(l!==i[0]);r=c(i[0]),n="www."===i[1]?"http://"+r:r}return{type:"link",raw:i[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}},{key:"inlineText",value:function(e,t,i){var r,n=this.rules.inline.text.exec(e);if(n)return r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):c(n[0]):n[0]:c(this.options.smartypants?i(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}]),t}();
},{"./defaults.js":"e3Cr","./helpers.js":"sUTH"}],"tlvE":[function(require,module,exports) {
var e=require("./helpers.js"),a=e.noopTest,l=e.edit,t=e.merge,n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:a,table:a,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};n.def=l(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=l(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=l(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=l(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=l(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=l(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=t({},n),n.gfm=t({},n.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),n.gfm.nptable=l(n.gfm.nptable).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.gfm.table=l(n.gfm.table).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.pedantic=t({},n.normal,{html:l("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:a,paragraph:l(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:a,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:a,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};r.em=l(r.em).replace(/punctuation/g,r._punctuation).getRegex(),r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=l(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=l(r.tag).replace("comment",n._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,r._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=l(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=l(r.reflink).replace("label",r._label).getRegex(),r.normal=t({},r),r.pedantic=t({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:l(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:l(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=t({},r.normal,{escape:l(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),r.gfm.url=l(r.gfm.url,"i").replace("email",r.gfm._extended_email).getRegex(),r.breaks=t({},r.gfm,{br:l(r.br).replace("{2,}","*").getRegex(),text:l(r.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),module.exports={block:n,inline:r};
},{"./helpers.js":"sUTH"}],"GfVS":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("./Tokenizer.js"),s=require("./defaults.js"),r=s.defaults,o=require("./rules.js"),l=o.block,h=o.inline;function a(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function k(e){var t,n,i="",s=e.length;for(t=0;t<s;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}module.exports=function(){function t(n){e(this,t),this.tokens=[],this.tokens.links=Object.create(null),this.options=n||r,this.options.tokenizer=this.options.tokenizer||new i,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var s={block:l.normal,inline:h.normal};this.options.pedantic?(s.block=l.pedantic,s.inline=h.pedantic):this.options.gfm&&(s.block=l.gfm,this.options.breaks?s.inline=h.breaks:s.inline=h.gfm),this.tokenizer.rules=s}return n(t,[{key:"lex",value:function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens}},{key:"blockTokens",value:function(e){var t,n,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];for(e=e.replace(/^ +$/gm,"");e;)if(t=this.tokenizer.space(e))e=e.substring(t.raw.length),t.type&&s.push(t);else if(t=this.tokenizer.code(e,s))e=e.substring(t.raw.length),s.push(t);else if(t=this.tokenizer.fences(e))e=e.substring(t.raw.length),s.push(t);else if(t=this.tokenizer.heading(e))e=e.substring(t.raw.length),s.push(t);else if(t=this.tokenizer.nptable(e))e=e.substring(t.raw.length),s.push(t);else if(t=this.tokenizer.hr(e))e=e.substring(t.raw.length),s.push(t);else if(t=this.tokenizer.blockquote(e))e=e.substring(t.raw.length),t.tokens=this.blockTokens(t.text,[],r),s.push(t);else if(t=this.tokenizer.list(e)){for(e=e.substring(t.raw.length),i=t.items.length,n=0;n<i;n++)t.items[n].tokens=this.blockTokens(t.items[n].text,[],!1);s.push(t)}else if(t=this.tokenizer.html(e))e=e.substring(t.raw.length),s.push(t);else if(r&&(t=this.tokenizer.def(e)))e=e.substring(t.raw.length),this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});else if(t=this.tokenizer.table(e))e=e.substring(t.raw.length),s.push(t);else if(t=this.tokenizer.lheading(e))e=e.substring(t.raw.length),s.push(t);else if(r&&(t=this.tokenizer.paragraph(e)))e=e.substring(t.raw.length),s.push(t);else if(t=this.tokenizer.text(e))e=e.substring(t.raw.length),s.push(t);else if(e){var o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}return s}},{key:"inline",value:function(e){var t,n,i,s,r,o,l=e.length;for(t=0;t<l;t++)switch((o=e[t]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},s=o.header.length,n=0;n<s;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(s=o.cells.length,n=0;n<s;n++)for(r=o.cells[n],o.tokens.cells[n]=[],i=0;i<r.length;i++)o.tokens.cells[n][i]=[],this.inlineTokens(r[i],o.tokens.cells[n][i]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(s=o.items.length,n=0;n<s;n++)this.inline(o.items[n].tokens)}return e}},{key:"inlineTokens",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e;)if(t=this.tokenizer.escape(e))e=e.substring(t.raw.length),n.push(t);else if(t=this.tokenizer.tag(e,i,s))e=e.substring(t.raw.length),i=t.inLink,s=t.inRawBlock,n.push(t);else if(t=this.tokenizer.link(e))e=e.substring(t.raw.length),"link"===t.type&&(t.tokens=this.inlineTokens(t.text,[],!0,s)),n.push(t);else if(t=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(t.raw.length),"link"===t.type&&(t.tokens=this.inlineTokens(t.text,[],!0,s)),n.push(t);else if(t=this.tokenizer.strong(e))e=e.substring(t.raw.length),t.tokens=this.inlineTokens(t.text,[],i,s),n.push(t);else if(t=this.tokenizer.em(e))e=e.substring(t.raw.length),t.tokens=this.inlineTokens(t.text,[],i,s),n.push(t);else if(t=this.tokenizer.codespan(e))e=e.substring(t.raw.length),n.push(t);else if(t=this.tokenizer.br(e))e=e.substring(t.raw.length),n.push(t);else if(t=this.tokenizer.del(e))e=e.substring(t.raw.length),t.tokens=this.inlineTokens(t.text,[],i,s),n.push(t);else if(t=this.tokenizer.autolink(e,k))e=e.substring(t.raw.length),n.push(t);else if(i||!(t=this.tokenizer.url(e,k))){if(t=this.tokenizer.inlineText(e,s,a))e=e.substring(t.raw.length),n.push(t);else if(e){var r="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(r);break}throw new Error(r)}}else e=e.substring(t.raw.length),n.push(t);return n}}],[{key:"lex",value:function(e,n){return new t(n).lex(e)}},{key:"rules",get:function(){return{block:l,inline:h}}}]),t}();
},{"./Tokenizer.js":"ZrSq","./defaults.js":"e3Cr","./rules.js":"tlvE"}],"GGSY":[function(require,module,exports) {
function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var r=require("./defaults.js"),i=r.defaults,o=require("./helpers.js"),u=o.cleanUrl,l=o.escape;module.exports=function(){function n(t){e(this,n),this.options=t||i}return t(n,[{key:"code",value:function(e,n,t){var r=(n||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(t=!0,e=i)}return r?'<pre><code class="'+this.options.langPrefix+l(r,!0)+'">'+(t?e:l(e,!0))+"</code></pre>\n":"<pre><code>"+(t?e:l(e,!0))+"</code></pre>"}},{key:"blockquote",value:function(e){return"<blockquote>\n"+e+"</blockquote>\n"}},{key:"html",value:function(e){return e}},{key:"heading",value:function(e,n,t,r){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+r.slug(t)+'">'+e+"</h"+n+">\n":"<h"+n+">"+e+"</h"+n+">\n"}},{key:"hr",value:function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}},{key:"list",value:function(e,n,t){var r=n?"ol":"ul";return"<"+r+(n&&1!==t?' start="'+t+'"':"")+">\n"+e+"</"+r+">\n"}},{key:"listitem",value:function(e){return"<li>"+e+"</li>\n"}},{key:"checkbox",value:function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}},{key:"paragraph",value:function(e){return"<p>"+e+"</p>\n"}},{key:"table",value:function(e,n){return n&&(n="<tbody>"+n+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+n+"</table>\n"}},{key:"tablerow",value:function(e){return"<tr>\n"+e+"</tr>\n"}},{key:"tablecell",value:function(e,n){var t=n.header?"th":"td";return(n.align?"<"+t+' align="'+n.align+'">':"<"+t+">")+e+"</"+t+">\n"}},{key:"strong",value:function(e){return"<strong>"+e+"</strong>"}},{key:"em",value:function(e){return"<em>"+e+"</em>"}},{key:"codespan",value:function(e){return"<code>"+e+"</code>"}},{key:"br",value:function(){return this.options.xhtml?"<br/>":"<br>"}},{key:"del",value:function(e){return"<del>"+e+"</del>"}},{key:"link",value:function(e,n,t){if(null===(e=u(this.options.sanitize,this.options.baseUrl,e)))return t;var r='<a href="'+l(e)+'"';return n&&(r+=' title="'+n+'"'),r+=">"+t+"</a>"}},{key:"image",value:function(e,n,t){if(null===(e=u(this.options.sanitize,this.options.baseUrl,e)))return t;var r='<img src="'+e+'" alt="'+t+'"';return n&&(r+=' title="'+n+'"'),r+=this.options.xhtml?"/>":">"}},{key:"text",value:function(e){return e}}]),n}();
},{"./defaults.js":"e3Cr","./helpers.js":"sUTH"}],"Xnzt":[function(require,module,exports) {
function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function t(e,t,u){return t&&n(e.prototype,t),u&&n(e,u),e}module.exports=function(){function n(){e(this,n)}return t(n,[{key:"strong",value:function(e){return e}},{key:"em",value:function(e){return e}},{key:"codespan",value:function(e){return e}},{key:"del",value:function(e){return e}},{key:"html",value:function(e){return e}},{key:"text",value:function(e){return e}},{key:"link",value:function(e,n,t){return""+t}},{key:"image",value:function(e,n,t){return""+t}},{key:"br",value:function(){return""}}]),n}();
},{}],"Qrlq":[function(require,module,exports) {
function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}module.exports=function(){function n(){e(this,n),this.seen={}}return r(n,[{key:"slug",value:function(e){var n=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(n)){var r=n;do{this.seen[r]++,n=r+"-"+this.seen[r]}while(this.seen.hasOwnProperty(n))}return this.seen[n]=0,n}}]),n}();
},{}],"Xd8K":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}var n=require("./Renderer.js"),s=require("./TextRenderer.js"),i=require("./Slugger.js"),o=require("./defaults.js"),a=o.defaults,h=require("./helpers.js"),l=h.unescape;module.exports=function(){function t(r){e(this,t),this.options=r||a,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new s,this.slugger=new i}return r(t,[{key:"parse",value:function(e){var t,r,n,s,i,o,a,h,c,p,d,k,u,f,g,x,b,w,y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],m="",v=e.length;for(t=0;t<v;t++)switch((p=e[t]).type){case"space":continue;case"hr":m+=this.renderer.hr();continue;case"heading":m+=this.renderer.heading(this.parseInline(p.tokens),p.depth,l(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue;case"code":m+=this.renderer.code(p.text,p.lang,p.escaped);continue;case"table":for(h="",a="",s=p.header.length,r=0;r<s;r++)a+=this.renderer.tablecell(this.parseInline(p.tokens.header[r]),{header:!0,align:p.align[r]});for(h+=this.renderer.tablerow(a),c="",s=p.cells.length,r=0;r<s;r++){for(a="",i=(o=p.tokens.cells[r]).length,n=0;n<i;n++)a+=this.renderer.tablecell(this.parseInline(o[n]),{header:!1,align:p.align[n]});c+=this.renderer.tablerow(a)}m+=this.renderer.table(h,c);continue;case"blockquote":c=this.parse(p.tokens),m+=this.renderer.blockquote(c);continue;case"list":for(d=p.ordered,k=p.start,u=p.loose,s=p.items.length,c="",r=0;r<s;r++)x=(g=p.items[r]).checked,b=g.task,f="",g.task&&(w=this.renderer.checkbox(x),u?"text"===g.tokens[0].type?(g.tokens[0].text=w+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=w+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:w}):f+=w),f+=this.parse(g.tokens,u),c+=this.renderer.listitem(f,b,x);m+=this.renderer.list(c,d,k);continue;case"html":m+=this.renderer.html(p.text);continue;case"paragraph":m+=this.renderer.paragraph(this.parseInline(p.tokens));continue;case"text":for(c=p.tokens?this.parseInline(p.tokens):p.text;t+1<v&&"text"===e[t+1].type;)c+="\n"+((p=e[++t]).tokens?this.parseInline(p.tokens):p.text);m+=y?this.renderer.paragraph(c):c;continue;default:var I='Token with "'+p.type+'" type was not found.';if(this.options.silent)return void console.error(I);throw new Error(I)}return m}},{key:"parseInline",value:function(e,t){t=t||this.renderer;var r,n,s="",i=e.length;for(r=0;r<i;r++)switch((n=e[r]).type){case"escape":s+=t.text(n.text);break;case"html":s+=t.html(n.text);break;case"link":s+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":s+=t.image(n.href,n.title,n.text);break;case"strong":s+=t.strong(this.parseInline(n.tokens,t));break;case"em":s+=t.em(this.parseInline(n.tokens,t));break;case"codespan":s+=t.codespan(n.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(n.tokens,t));break;case"text":s+=t.text(n.text);break;default:var o='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}return s}}],[{key:"parse",value:function(e,r){return new t(r).parse(e)}}]),t}();
},{"./Renderer.js":"GGSY","./TextRenderer.js":"Xnzt","./Slugger.js":"Qrlq","./defaults.js":"e3Cr","./helpers.js":"sUTH"}],"afg3":[function(require,module,exports) {
function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var r=require("./Lexer.js"),t=require("./Parser.js"),n=require("./Tokenizer.js"),o=require("./Renderer.js"),i=require("./TextRenderer.js"),u=require("./Slugger.js"),a=require("./helpers.js"),l=a.merge,f=a.checkSanitizeDeprecation,s=a.escape,p=require("./defaults.js"),c=p.getDefaults,d=p.changeDefaults,h=p.defaults;function g(n,o,i){if(null==n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(i||"function"==typeof o){var u=function(){i||(i=o,o=null),o=l({},g.defaults,o||{}),f(o);var e,u,a=o.highlight,s=0;try{e=r.lex(n,o)}catch(c){return{v:i(c)}}u=e.length;var p=function(r){if(r)return o.highlight=a,i(r);var n;try{n=t.parse(e,o)}catch(c){r=c}return o.highlight=a,r?i(r):i(null,n)};if(!a||a.length<3)return{v:p()};if(delete o.highlight,!u)return{v:p()};for(;s<e.length;s++)!function(e){"code"!==e.type?--u||p():a(e.text,e.lang,function(r,t){return r?p(r):null==t||t===e.text?--u||p():(e.text=t,e.escaped=!0,void(--u||p()))})}(e[s]);return{v:void 0}}();if("object"===e(u))return u.v}try{return o=l({},g.defaults,o||{}),f(o),t.parse(r.lex(n,o),o)}catch(a){if(a.message+="\nPlease report this to https://github.com/markedjs/marked.",(o||g.defaults).silent)return"<p>An error occurred:</p><pre>"+s(a.message+"",!0)+"</pre>";throw a}}g.options=g.setOptions=function(e){return l(g.defaults,e),d(g.defaults),g},g.getDefaults=c,g.defaults=h,g.use=function(e){var r=l({},e);e.renderer&&function(){var t=g.defaults.renderer||new o,n=function(r){var n=t[r];t[r]=function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];var a=e.renderer[r].apply(t,i);return!1===a&&(a=n.apply(t,i)),a}};for(var i in e.renderer)n(i);r.renderer=t}(),e.tokenizer&&function(){var t=g.defaults.tokenizer||new n,o=function(r){var n=t[r];t[r]=function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];var a=e.tokenizer[r].apply(t,i);return!1===a&&(a=n.apply(t,i)),a}};for(var i in e.tokenizer)o(i);r.tokenizer=t}(),g.setOptions(r)},g.Parser=t,g.parser=t.parse,g.Renderer=o,g.TextRenderer=i,g.Lexer=r,g.lexer=r.lex,g.Tokenizer=n,g.Slugger=u,g.parse=g,module.exports=g;
},{"./Lexer.js":"GfVS","./Parser.js":"Xd8K","./Tokenizer.js":"ZrSq","./Renderer.js":"GGSY","./TextRenderer.js":"Xnzt","./Slugger.js":"Qrlq","./helpers.js":"sUTH","./defaults.js":"e3Cr"}],"g3nS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArticleContent=a;var e=require("@bikeshaving/crank"),t=r(require("marked"));function r(e){return e&&e.__esModule?e:{default:e}}var n=function(e,t){var r,n,l,a,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(l=2&a[0]?n.return:a[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,a[1])).done)return l;switch(n=0,l&&(a=[2&a[0],l.value]),a[0]){case 0:case 1:l=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(l=(l=o.trys).length>0&&l[l.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!l||a[1]>l[0]&&a[1]<l[3])){o.label=a[1];break}if(6===a[0]&&o.label<l[1]){o.label=l[1],l=a;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(a);break}l[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(i){a=[6,i],n=0}finally{r=l=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(r){var a,o,i,u,c,s=r.article;return n(this,function(r){switch(r.label){case 0:r.trys.push([0,5,6,7]),a=l(this),o=a.next(),r.label=1;case 1:return o.done?[3,4]:(s=o.value.article,[4,(0,e.createElement)("div",{class:"row article-content"},(0,e.createElement)("div",{class:"col-md-12"},(0,e.createElement)("div",null,(0,e.createElement)(e.Raw,{value:(0,t.default)(s.body)})),(0,e.createElement)("ul",{class:"tag-list"},s.tagList.map(function(t){return(0,e.createElement)("li",{class:"tag-default tag-pill tag-outline"},t)}))))]);case 2:r.sent(),r.label=3;case 3:return o=a.next(),[3,1];case 4:return[3,7];case 5:return i=r.sent(),u={error:i},[3,7];case 6:try{o&&!o.done&&(c=a.return)&&c.call(a)}finally{if(u)throw u.error}return[7];case 7:return[2]}})}
},{"@bikeshaving/crank":"k82I","marked":"afg3"}],"NpXW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteComment=exports.postComment=exports.getComments=void 0;var e=require("../state/userState"),t=function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function i(e){try{u(r.next(e))}catch(t){s(t)}}function a(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}u((r=r.apply(e,t||[])).next())})},n=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(a){s=[6,a],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},r=function(r){return t(void 0,void 0,Promise,function(){var t,o,s,i;return n(this,function(n){switch(n.label){case 0:return(0,e.getUser)(),t={},(0,e.isLoggedIn)()&&(o=(0,e.getUser)(),t={Authorization:"Token "+o.token}),[4,fetch("https://conduit.productionready.io/api/articles/"+r.slug+"/comments",{method:"GET",mode:"cors",headers:t})];case 1:return[4,(s=n.sent()).json()];case 2:return i=n.sent(),[2,{hasErrors:200!==s.status,response:i}]}})})};exports.getComments=r;var o=function(r){return t(void 0,void 0,Promise,function(){var t,o,s;return n(this,function(n){switch(n.label){case 0:return t=(0,e.getUser)(),[4,fetch("https://conduit.productionready.io/api/articles/"+r.slug+"/comments",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+t.token},body:JSON.stringify({comment:{body:r.body}})})];case 1:return[4,(o=n.sent()).json()];case 2:return s=n.sent(),[2,{hasErrors:200!==o.status,response:s}]}})})};exports.postComment=o;var s=function(r){return t(void 0,void 0,Promise,function(){var t,o,s;return n(this,function(n){switch(n.label){case 0:return t=(0,e.getUser)(),[4,fetch("https://conduit.productionready.io/api/articles/"+r.slug+"/comments/"+r.id,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Token "+t.token}})];case 1:return[4,(o=n.sent()).json()];case 2:return s=n.sent(),[2,{hasErrors:200!==o.status,response:s}]}})})};exports.deleteComment=s;
},{"../state/userState":"qsQo"}],"mmSo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommentForm=c;var e=require("@bikeshaving/crank"),t=require("../../state/userState"),r=require("../../services/commentService"),n=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(t){a(t)}}function l(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(c,l)}s((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(l){a=[6,l],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function c(c){var l,s,i,u,f,m,b,h,d,p=this,y=c.article,v=c.handleNewComment;return o(this,function(c){switch(c.label){case 0:l=(0,t.getUser)(),!1,s=!1,u=function(e){return n(p,void 0,void 0,function(){var t,n;return o(this,function(o){switch(o.label){case 0:return e.preventDefault(),!0,s=!1,i=void 0,this.refresh(),t=new FormData(e.target),t.get("body").trim().length>0?[4,(0,r.postComment)({slug:y.slug,body:t.get("body")})]:[3,2];case 1:n=o.sent(),s=n.hasErrors,i=n.response,s||(e.target.reset(),v(i.comment)),o.label=2;case 2:return!1,this.refresh(),[2]}})})},c.label=1;case 1:c.trys.push([1,6,7,8]),f=a(this),m=f.next(),c.label=2;case 2:return m.done?[3,5]:(y=m.value.article,[4,(0,e.createElement)("form",{class:"card comment-form",onsubmit:u},(0,e.createElement)("div",{class:"card-block"},(0,e.createElement)("textarea",{class:"form-control",name:"body",placeholder:"Write a comment...",rows:"3"})),(0,e.createElement)("div",{class:"card-footer"},(0,e.createElement)("img",{src:l.image,class:"comment-author-img"}),(0,e.createElement)("button",{class:"btn btn-sm btn-primary"},"Post Comment")))]);case 3:c.sent(),c.label=4;case 4:return m=f.next(),[3,2];case 5:return[3,8];case 6:return b=c.sent(),h={error:b},[3,8];case 7:try{m&&!m.done&&(d=f.return)&&d.call(f)}finally{if(h)throw h.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../state/userState":"qsQo","../../services/commentService":"NpXW"}],"Fgin":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Comment=a;var e=require("@bikeshaving/crank"),t=require("../../state/userState"),r=function(e,t){var r,n,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(a){var o,l,c,s,u,i,m,f=a.comment,h=a.handleDelete;return r(this,function(r){switch(r.label){case 0:o=(0,t.getUser)(),r.label=1;case 1:r.trys.push([1,6,7,8]),l=n(this),c=l.next(),r.label=2;case 2:return c.done?[3,5]:(m=c.value,f=m.comment,h=m.handleDelete,[4,(0,e.createElement)("div",{class:"card"},(0,e.createElement)("div",{class:"card-block"},(0,e.createElement)("p",{class:"card-text"},f.body)),(0,e.createElement)("div",{class:"card-footer"},(0,e.createElement)("a",{href:"/profile/"+f.author.username,class:"comment-author"},(0,e.createElement)("img",{src:f.author.image,class:"comment-author-img"})),"",(0,e.createElement)("a",{href:"/profile/"+f.author.username,class:"comment-author"},f.author.username),(0,e.createElement)("span",{class:"date-posted"},new Date(f.createdAt).toDateString()),(0,t.isLoggedIn)()&&f.author.username===o.username&&(0,e.createElement)("span",{class:"mod-options"},(0,e.createElement)("button",{type:"button",class:"btn",style:"background-color:transparent;",onclick:h},(0,e.createElement)("i",{class:"ion-trash-a"})))))]);case 3:r.sent(),r.label=4;case 4:return c=l.next(),[3,2];case 5:return[3,8];case 6:return s=r.sent(),u={error:s},[3,8];case 7:try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(u)throw u.error}return[7];case 8:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../state/userState":"qsQo"}],"curH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommentSection=l;var e=require("@bikeshaving/crank"),t=require("../../components"),n=require("../../services/commentService"),r=require("../../state/userState"),o=require("./CommentForm"),a=require("./Comment"),i=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=function(e){return this instanceof s?(this.v=e,this):new s(e)},u=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}},c=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||u(e,t)})})}function u(e,t){try{(n=o[e](t)).value instanceof s?Promise.resolve(n.value.v).then(c,l):f(a[0][2],n)}catch(r){f(a[0][3],r)}var n}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}};function l(l){var f=l.article;return c(this,arguments,function(){var c,l,m,h,y,p,d,v,b,g=this;return i(this,function(i){switch(i.label){case 0:return[4,s((0,e.createElement)("div",{style:"display:flex; justify-content:center; margin:50px;"},(0,e.createElement)(t.LoadingIndicator,null)))];case 1:return[4,i.sent()];case 2:return i.sent(),[4,s((0,n.getComments)({slug:f.slug}))];case 3:if((c=i.sent()).hasErrors)throw new Error("Error getting article comments.");l=null===(p=c.response)||void 0===p?void 0:p.comments,m=function(e){l.splice(0,0,e),g.refresh()},h=function(e,t){e.preventDefault(),(0,n.deleteComment)({id:t,slug:f.slug});var r=l.findIndex(function(e){return e.id===t});r>=0&&(l.splice(r,1),g.refresh())},i.label=4;case 4:i.trys.push([4,11,12,17]),y=u(this),i.label=5;case 5:return[4,s(y.next())];case 6:return(p=i.sent()).done?[3,10]:(f=p.value.article,[4,s((0,e.createElement)(e.Fragment,null,(0,r.isLoggedIn)()&&(0,e.createElement)(o.CommentForm,{article:f,handleNewComment:m}),!(0,r.isLoggedIn)()&&(0,e.createElement)("p",null,(0,e.createElement)("a",{href:"/login"},"Sign in")," or ",(0,e.createElement)("a",{href:"/register"},"sign up")," to add comments to this article."),l.map(function(t){return(0,e.createElement)(a.Comment,{"crank-key":t.id,comment:t,handleDelete:function(e){h(e,t.id)}})})))]);case 7:return[4,i.sent()];case 8:i.sent(),i.label=9;case 9:return[3,5];case 10:return[3,17];case 11:return d=i.sent(),v={error:d},[3,17];case 12:return i.trys.push([12,,15,16]),p&&!p.done&&(b=y.return)?[4,s(b.call(y))]:[3,14];case 13:i.sent(),i.label=14;case 14:return[3,16];case 15:if(v)throw v.error;return[7];case 16:return[7];case 17:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","../../services/commentService":"NpXW","../../state/userState":"qsQo","./CommentForm":"mmSo","./Comment":"Fgin"}],"EToo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Article=m;var e=require("@bikeshaving/crank"),t=require("../../components"),r=require("../../services/articleService"),n=require("../../services/eventService"),o=require("../../services/favoriteService"),i=require("../../services/followService"),a=require("../../state/userState"),s=require("./ArticleActions"),c=require("./ArticleBanner"),l=require("./ArticleContent"),u=require("./CommentSection"),f=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},v=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}},y=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=o[e](t)).value instanceof h?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(n){u(i[0][3],n)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},d=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e};function m(d){var m=d.slug;return y(this,arguments,function(){var y,d,b,w,E,g,S,x=this;return f(this,function(f){switch(f.label){case 0:return[4,h((0,e.createElement)("div",{style:"display:flex; justify-content:center; margin:50px;"},(0,e.createElement)(t.LoadingIndicator,null)))];case 1:return[4,f.sent()];case 2:return f.sent(),[4,h((0,r.getArticle)({slug:m}))];case 3:if((y=f.sent()).hasErrors)throw new Error("Error getting article.");d=y.response.article,this.addEventListener.apply(this,p((0,n.followUserListener)(function(e){(0,i.followUser)(e),d.author.following=!0,x.refresh()}))),this.addEventListener.apply(this,p((0,n.unfollowUserListener)(function(e){(0,i.unfollowUser)(e),d.author.following=!1,x.refresh()}))),this.addEventListener.apply(this,p((0,n.favoritePostListener)(function(e){(0,o.favoritePost)(e),d.favorited=!0,d.favoritesCount++,x.refresh()}))),this.addEventListener.apply(this,p((0,n.unfavoritePostListener)(function(e){(0,o.unfavoritePost)(e),d.favorited=!1,d.favoritesCount--,x.refresh()}))),this.addEventListener.apply(this,p((0,n.deleteArticleListener)(function(e){(0,r.deleteArticle)(e),history.back()}))),f.label=4;case 4:f.trys.push([4,11,12,17]),b=v(this),f.label=5;case 5:return[4,h(b.next())];case 6:return(w=f.sent()).done?[3,10]:(m=w.value.slug,[4,h((0,e.createElement)("div",{class:"article-page"},(0,e.createElement)(c.ArticleBanner,{article:d}),(0,e.createElement)("div",{class:"container page"},(0,e.createElement)(l.ArticleContent,{article:d}),(0,e.createElement)("hr",null),(0,a.isLoggedIn)()&&(0,e.createElement)(s.ArticleActions,{article:d}),(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-xs-12 col-md-8 offset-md-2"},(0,e.createElement)(u.CommentSection,{article:d}))))))]);case 7:return[4,f.sent()];case 8:f.sent(),f.label=9;case 9:return[3,5];case 10:return[3,17];case 11:return E=f.sent(),g={error:E},[3,17];case 12:return f.trys.push([12,,15,16]),w&&!w.done&&(S=b.return)?[4,h(S.call(b))]:[3,14];case 13:f.sent(),f.label=14;case 14:return[3,16];case 15:if(g)throw g.error;return[7];case 16:return[7];case 17:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","../../services/articleService":"GatF","../../services/eventService":"fkvO","../../services/favoriteService":"KAtv","../../services/followService":"tt01","../../state/userState":"qsQo","./ArticleActions":"YkrN","./ArticleBanner":"Fba3","./ArticleContent":"g3nS","./CommentSection":"curH"}],"w8yd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewArticleScreen=o;var e=require("@bikeshaving/crank"),r=require("../../components"),t=require("./Article"),n=function(e,r){var t,n,l,o,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(l=2&o[0]?n.return:o[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,o[1])).done)return l;switch(n=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(l=(l=a.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){a.label=o[1];break}if(6===o[0]&&a.label<l[1]){a.label=l[1],l=o;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(o);break}l[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(e,a)}catch(u){o=[6,u],n=0}finally{t=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},l=function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(o){var a,u,i,c,s,f=o.slug;return n(this,function(n){switch(n.label){case 0:n.trys.push([0,5,6,7]),a=l(this),u=a.next(),n.label=1;case 1:return u.done?[3,4]:(f=u.value.slug,[4,(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.Navbar,{active:""}),(0,e.createElement)(t.Article,{slug:f}),(0,e.createElement)(r.Footer,null))]);case 2:n.sent(),n.label=3;case 3:return u=a.next(),[3,1];case 4:return[3,7];case 5:return i=n.sent(),c={error:i},[3,7];case 6:try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(c)throw c.error}return[7];case 7:return[2]}})}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","./Article":"EToo"}],"nVid":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./ViewArticleScreen");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./ViewArticleScreen":"w8yd"}],"eAgI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getProfile=void 0;var e=require("../state/userState"),t=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function u(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,u)}s((n=n.apply(e,t||[])).next())})},r=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},n=function(n){var o=n.username;return t(void 0,void 0,Promise,function(){var t,n,i,a;return r(this,function(r){switch(r.label){case 0:return t={},(0,e.isLoggedIn)()&&(n=(0,e.getUser)(),t={Authorization:"Token "+n.token}),[4,fetch("https://conduit.productionready.io/api/profiles/"+o,{method:"GET",mode:"cors",headers:t})];case 1:return[4,(i=r.sent()).json()];case 2:return a=r.sent(),[2,{hasErrors:200!==i.status,response:a}]}})})};exports.getProfile=n;
},{"../state/userState":"qsQo"}],"WGRC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProfileFeedContent=u;var e=require("@bikeshaving/crank"),t=require("../../components"),r=require("../../components/ArticleFeed"),n=require("../../services/feedService"),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}},s=function(e){return this instanceof s?(this.v=e,this):new s(e)},l=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||l(e,t)})})}function l(e,t){try{(r=o[e](t)).value instanceof s?Promise.resolve(r.value.v).then(u,c):f(a[0][2],r)}catch(n){f(a[0][3],n)}var r}function u(e){l("next",e)}function c(e){l("throw",e)}function f(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}};function u(u){var c=u.username,f=u.feed,d=u.limit,y=u.offset;return l(this,arguments,function(){var l,u,h,p,b,m,v,w,g,x,E,S,I,F;return a(this,function(a){switch(a.label){case 0:l={username:c,feed:f,limit:d,offset:y},u=null,h=0,p=!1,b=!1,a.label=1;case 1:a.trys.push([1,15,16,21]),m=i(this),a.label=2;case 2:return[4,s(m.next())];case 3:return(v=a.sent()).done?[3,14]:(S=v.value,c=S.username,f=S.feed,d=S.limit,y=S.offset,w=c!==l.username||f!==l.feed||d!==l.limit||y!==l.offset,null==u||w?(l={username:c,feed:f,limit:d,offset:y},[4,s((0,e.createElement)("div",{style:"display:flex; justify-content:center; margin:50px;"},(0,e.createElement)(t.LoadingIndicator,null)))]):[3,10]);case 4:return[4,a.sent()];case 5:return a.sent(),"my"!==f?[3,7]:[4,s((0,n.getFeedArticles)({author:c,limit:d,offset:y}))];case 6:return x=a.sent(),[3,9];case 7:return[4,s((0,n.getFeedArticles)({favorited:c,limit:d,offset:y}))];case 8:x=a.sent(),a.label=9;case 9:if((g=x).hasErrors)throw new Error("Error getting feed.");u=null===(v=g.response)||void 0===v?void 0:v.articles,h=null===(x=g.response)||void 0===x?void 0:x.articlesCount,p=0===y,b=y+d>=h,a.label=10;case 10:return[4,s((0,e.createElement)(e.Fragment,null,"my"===f&&(0,e.createElement)(r.ArticleFeed,o({},{articles:u,prevDisabled:p,nextDisabled:b})),"favorited"===f&&(0,e.createElement)(r.ArticleFeed,o({},{articles:u,prevDisabled:p,nextDisabled:b}))))];case 11:return[4,a.sent()];case 12:a.sent(),a.label=13;case 13:return[3,2];case 14:return[3,21];case 15:return E=a.sent(),I={error:E},[3,21];case 16:return a.trys.push([16,,19,20]),v&&!v.done&&(F=m.return)?[4,s(F.call(m))]:[3,18];case 17:a.sent(),a.label=18;case 18:return[3,20];case 19:if(I)throw I.error;return[7];case 20:return[7];case 21:return[2]}})})}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","../../components/ArticleFeed":"v5Vp","../../services/feedService":"n69M"}],"pGCg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProfileFeeds=E;var e=require("@bikeshaving/crank"),t=v(require("classnames")),r=require("../../components"),n=require("../../services/profileService"),a=require("../../state/pageContextState"),o=require("./ProfileFeedContent"),i=require("../../services/eventService"),s=require("../../services/followService"),l=f(require("query-string")),c=require("../../state/userState");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function v(e){return e&&e.__esModule?e:{default:e}}var p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},m=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}},d=function(e){return this instanceof d?(this.v=e,this):new d(e)},h=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=a[e](t)).value instanceof d?Promise.resolve(r.value.v).then(l,c):u(o[0][2],r)}catch(n){u(o[0][3],n)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},g=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},b=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e},w=function(){return(0,a.getPageContext)().params.username};function E(u){return h(this,arguments,function(){var u,f,v,h,g,E,P,x,S,O,j,q,k,_,L,I,C,M=this;return m(this,function(m){switch(m.label){case 0:u=(0,c.getUser)(),f=w(),v=(0,a.getQueryParams)(),h=v.feed,g=void 0===h?"my":h,E=v.limit,P=void 0===E?"10":E,x=v.offset,S=+P,O=+(void 0===x?"0":x),j=null,(0,a.watchPageContext)(function(){var e,t,r,n;f=w(),t=(e=(0,a.getQueryParams)()).feed,g=void 0===t?"my":t,r=e.limit,P=void 0===r?"10":r,n=e.offset,S=+P,O=+(void 0===n?"0":n)}),this.addEventListener.apply(this,b((0,i.followUserListener)(function(e){(0,s.followUser)(e),j.following=!0,M.refresh()}))),this.addEventListener.apply(this,b((0,i.unfollowUserListener)(function(e){(0,s.unfollowUser)(e),j.following=!1,M.refresh()}))),this.addEventListener.apply(this,b((0,i.prevPageListener)(function(){O=Math.max(0,O-=S);var e=(0,a.getPageContext)().pathname,t=p(p({},(0,a.getQueryParams)()),{offset:O});page(e+"?"+l.stringify(t))}))),this.addEventListener.apply(this,b((0,i.nextPageListener)(function(){O+=S;var e=(0,a.getPageContext)().pathname,t=p(p({},(0,a.getQueryParams)()),{offset:O});page(e+"?"+l.stringify(t))}))),m.label=1;case 1:m.trys.push([1,12,13,18]),q=y(this),m.label=2;case 2:return[4,d(q.next())];case 3:return(k=m.sent()).done?[3,11]:(k.value,f===(null==j?void 0:j.username)?[3,7]:[4,d((0,e.createElement)("div",{style:"display:flex; justify-content:center; margin:50px;"},(0,e.createElement)(r.LoadingIndicator,null)))]);case 4:return[4,m.sent()];case 5:return m.sent(),[4,d((0,n.getProfile)({username:f}))];case 6:if((_=m.sent()).hasErrors)throw new Error("Error getting profile.");j=_.response.profile,m.label=7;case 7:return[4,d((0,e.createElement)("div",{class:"profile-page"},(0,e.createElement)("div",{class:"user-info"},(0,e.createElement)("div",{class:"container"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-xs-12 col-md-10 offset-md-1"},(0,e.createElement)("img",{src:j.image||"https://static.productionready.io/images/smiley-cyrus.jpg",class:"user-img"}),(0,e.createElement)("h4",null,j.username),(0,e.createElement)("p",null,j.bio),(null==u?void 0:u.username)!==f&&(0,e.createElement)(r.FollowUserButton,{username:j.username,following:j.following}))))),(0,e.createElement)("div",{class:"container"},(0,e.createElement)("div",{class:"row"},(0,e.createElement)("div",{class:"col-xs-12 col-md-10 offset-md-1"},(0,e.createElement)("div",{class:"articles-toggle"},(0,e.createElement)("ul",{class:"nav nav-pills outline-active"},(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,t.default)("nav-link",{active:"my"===g}),href:"/profile/"+j.username+"?feed=my"},"My Articles")),(0,e.createElement)("li",{class:"nav-item"},(0,e.createElement)("a",{class:(0,t.default)("nav-link",{active:"favorited"===g}),href:"/profile/"+j.username+"?feed=favorited"},"Favorited Articles")))),(0,e.createElement)(o.ProfileFeedContent,{username:f,feed:g,limit:S,offset:O}))))))];case 8:return[4,m.sent()];case 9:m.sent(),m.label=10;case 10:return[3,2];case 11:return[3,18];case 12:return L=m.sent(),I={error:L},[3,18];case 13:return m.trys.push([13,,16,17]),k&&!k.done&&(C=q.return)?[4,d(C.call(q))]:[3,15];case 14:m.sent(),m.label=15;case 15:return[3,17];case 16:if(I)throw I.error;return[7];case 17:return[7];case 18:return[2]}})})}
},{"@bikeshaving/crank":"k82I","classnames":"qb7c","../../components":"iVTS","../../services/profileService":"eAgI","../../state/pageContextState":"ubNH","./ProfileFeedContent":"WGRC","../../services/eventService":"fkvO","../../services/followService":"tt01","query-string":"FvpG","../../state/userState":"qsQo"}],"z5ec":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProfileScreen=n;var e=require("@bikeshaving/crank"),r=require("../../components"),t=require("./ProfileFeeds");function n(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.Navbar,{active:""}),(0,e.createElement)(t.ProfileFeeds,null),(0,e.createElement)(r.Footer,null))}
},{"@bikeshaving/crank":"k82I","../../components":"iVTS","./ProfileFeeds":"pGCg"}],"SXbb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./ProfileScreen");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});
},{"./ProfileScreen":"z5ec"}],"zo2T":[function(require,module,exports) {
"use strict";var e=require("@bikeshaving/crank");require("./styles.scss");var t=i(require("page")),r=require("./screens"),n=require("./utils"),l=require("./screens/view-article"),u=require("./services/userService"),a=require("./state/pageContextState"),s=require("./screens/profile");function i(e){return e&&e.__esModule?e:{default:e}}(0,t.default)("/",function(t){(0,a.setPageContext)(t),(0,n.render)((0,e.createElement)(r.HomeScreen,null))}),(0,t.default)("/register",function(t){(0,a.setPageContext)(t),(0,n.render)((0,e.createElement)(r.RegisterScreen,null))}),(0,t.default)("/login",function(t){(0,a.setPageContext)(t),(0,n.render)((0,e.createElement)(r.LoginScreen,null))}),(0,t.default)("/settings",function(t){(0,a.setPageContext)(t),(0,n.render)((0,e.createElement)(r.SettingsScreen,null))}),(0,t.default)("/article/:slug",function(t){(0,a.setPageContext)(t),(0,n.render)((0,e.createElement)(l.ViewArticleScreen,{slug:t.params.slug}))}),(0,t.default)("/logout",function(e){(0,a.setPageContext)(e),(0,u.logout)(),(0,t.default)("/")}),(0,t.default)("/profile/:username",function(t){(0,a.setPageContext)(t),(0,n.render)((0,e.createElement)(s.ProfileScreen,null))});try{(0,t.default)()}catch(c){console.log(c),(0,t.default)("/")}
},{"@bikeshaving/crank":"k82I","./styles.scss":"I4sy","page":"bUEv","./screens":"nYHZ","./utils":"s2T4","./screens/view-article":"nVid","./services/userService":"V8SH","./state/pageContextState":"ubNH","./screens/profile":"SXbb"}]},{},["zo2T"], null)
//# sourceMappingURL=/src.6eca73bb.js.map